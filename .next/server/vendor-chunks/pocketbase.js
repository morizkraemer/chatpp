"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/pocketbase";
exports.ids = ["vendor-chunks/pocketbase"];
exports.modules = {

/***/ "(ssr)/./node_modules/pocketbase/dist/pocketbase.es.mjs":
/*!********************************************************!*\
  !*** ./node_modules/pocketbase/dist/pocketbase.es.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminService: () => (/* binding */ AdminService),\n/* harmony export */   AsyncAuthStore: () => (/* binding */ AsyncAuthStore),\n/* harmony export */   BaseAuthStore: () => (/* binding */ BaseAuthStore),\n/* harmony export */   ClientResponseError: () => (/* binding */ ClientResponseError),\n/* harmony export */   CollectionService: () => (/* binding */ CollectionService),\n/* harmony export */   CrudService: () => (/* binding */ CrudService),\n/* harmony export */   HealthService: () => (/* binding */ HealthService),\n/* harmony export */   LocalAuthStore: () => (/* binding */ LocalAuthStore),\n/* harmony export */   LogService: () => (/* binding */ LogService),\n/* harmony export */   RealtimeService: () => (/* binding */ RealtimeService),\n/* harmony export */   RecordService: () => (/* binding */ RecordService),\n/* harmony export */   cookieParse: () => (/* binding */ cookieParse),\n/* harmony export */   cookieSerialize: () => (/* binding */ cookieSerialize),\n/* harmony export */   \"default\": () => (/* binding */ Client),\n/* harmony export */   getTokenPayload: () => (/* binding */ getTokenPayload),\n/* harmony export */   isTokenExpired: () => (/* binding */ isTokenExpired),\n/* harmony export */   normalizeUnknownQueryParams: () => (/* binding */ normalizeUnknownQueryParams)\n/* harmony export */ });\nclass ClientResponseError extends Error{constructor(e){super(\"ClientResponseError\"),this.url=\"\",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,ClientResponseError.prototype),null!==e&&\"object\"==typeof e&&(this.url=\"string\"==typeof e.url?e.url:\"\",this.status=\"number\"==typeof e.status?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,null!==e.response&&\"object\"==typeof e.response?this.response=e.response:null!==e.data&&\"object\"==typeof e.data?this.response=e.data:this.response={}),this.originalError||e instanceof ClientResponseError||(this.originalError=e),\"undefined\"!=typeof DOMException&&e instanceof DOMException&&(this.isAbort=!0),this.name=\"ClientResponseError \"+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message=\"The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.\":this.originalError?.cause?.message?.includes(\"ECONNREFUSED ::1\")?this.message=\"Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).\":this.message=\"Something went wrong while processing your request.\")}get data(){return this.response}toJSON(){return{...this}}}const e=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function cookieParse(e,t){const s={};if(\"string\"!=typeof e)return s;const i=Object.assign({},t||{}).decode||defaultDecode;let n=0;for(;n<e.length;){const t=e.indexOf(\"=\",n);if(-1===t)break;let r=e.indexOf(\";\",n);if(-1===r)r=e.length;else if(r<t){n=e.lastIndexOf(\";\",t-1)+1;continue}const o=e.slice(n,t).trim();if(void 0===s[o]){let n=e.slice(t+1,r).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{s[o]=i(n)}catch(e){s[o]=n}}n=r+1}return s}function cookieSerialize(t,s,i){const n=Object.assign({},i||{}),r=n.encode||defaultEncode;if(!e.test(t))throw new TypeError(\"argument name is invalid\");const o=r(s);if(o&&!e.test(o))throw new TypeError(\"argument val is invalid\");let a=t+\"=\"+o;if(null!=n.maxAge){const e=n.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError(\"option maxAge is invalid\");a+=\"; Max-Age=\"+Math.floor(e)}if(n.domain){if(!e.test(n.domain))throw new TypeError(\"option domain is invalid\");a+=\"; Domain=\"+n.domain}if(n.path){if(!e.test(n.path))throw new TypeError(\"option path is invalid\");a+=\"; Path=\"+n.path}if(n.expires){if(!function isDate(e){return\"[object Date]\"===Object.prototype.toString.call(e)||e instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError(\"option expires is invalid\");a+=\"; Expires=\"+n.expires.toUTCString()}if(n.httpOnly&&(a+=\"; HttpOnly\"),n.secure&&(a+=\"; Secure\"),n.priority){switch(\"string\"==typeof n.priority?n.priority.toLowerCase():n.priority){case\"low\":a+=\"; Priority=Low\";break;case\"medium\":a+=\"; Priority=Medium\";break;case\"high\":a+=\"; Priority=High\";break;default:throw new TypeError(\"option priority is invalid\")}}if(n.sameSite){switch(\"string\"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:a+=\"; SameSite=Strict\";break;case\"lax\":a+=\"; SameSite=Lax\";break;case\"strict\":a+=\"; SameSite=Strict\";break;case\"none\":a+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return a}function defaultDecode(e){return-1!==e.indexOf(\"%\")?decodeURIComponent(e):e}function defaultEncode(e){return encodeURIComponent(e)}let t;function getTokenPayload(e){if(e)try{const s=decodeURIComponent(t(e.split(\".\")[1]).split(\"\").map((function(e){return\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"));return JSON.parse(s)||{}}catch(e){}return{}}function isTokenExpired(e,t=0){let s=getTokenPayload(e);return!(Object.keys(s).length>0&&(!s.exp||s.exp-t>Date.now()/1e3))}t=\"function\"==typeof atob?atob:e=>{let t=String(e).replace(/=+$/,\"\");if(t.length%4==1)throw new Error(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var s,i,n=0,r=0,o=\"\";i=t.charAt(r++);~i&&(s=n%4?64*s+i:i,n++%4)?o+=String.fromCharCode(255&s>>(-2*n&6)):0)i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(i);return o};const s=\"pb_auth\";class BaseAuthStore{constructor(){this.baseToken=\"\",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!isTokenExpired(this.token)}get isAdmin(){return\"admin\"===getTokenPayload(this.token).type}get isAuthRecord(){return\"authRecord\"===getTokenPayload(this.token).type}save(e,t){this.baseToken=e||\"\",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken=\"\",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=s){const i=cookieParse(e||\"\")[t]||\"\";let n={};try{n=JSON.parse(i),(null===typeof n||\"object\"!=typeof n||Array.isArray(n))&&(n={})}catch(e){}this.save(n.token||\"\",n.model||null)}exportToCookie(e,t=s){const i={secure:!0,sameSite:!0,httpOnly:!0,path:\"/\"},n=getTokenPayload(this.token);i.expires=n?.exp?new Date(1e3*n.exp):new Date(\"1970-01-01\"),e=Object.assign({},i,e);const r={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=cookieSerialize(t,JSON.stringify(r),e);const a=\"undefined\"!=typeof Blob?new Blob([o]).size:o.length;if(r.model&&a>4096){r.model={id:r?.model?.id,email:r?.model?.email};const s=[\"collectionId\",\"username\",\"verified\"];for(const e in this.model)s.includes(e)&&(r.model[e]=this.model[e]);o=cookieSerialize(t,JSON.stringify(r),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let t=this._onChangeCallbacks.length-1;t>=0;t--)if(this._onChangeCallbacks[t]==e)return delete this._onChangeCallbacks[t],void this._onChangeCallbacks.splice(t,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class LocalAuthStore extends BaseAuthStore{constructor(e=\"pocketbase_auth\"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||\"\"}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(\"undefined\"!=typeof window&&window?.localStorage){const t=window.localStorage.getItem(e)||\"\";try{return JSON.parse(t)}catch(e){return t}}return this.storageFallback[e]}_storageSet(e,t){if(\"undefined\"!=typeof window&&window?.localStorage){let s=t;\"string\"!=typeof t&&(s=JSON.stringify(t)),window.localStorage.setItem(e,s)}else this.storageFallback[e]=t}_storageRemove(e){\"undefined\"!=typeof window&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){\"undefined\"!=typeof window&&window?.localStorage&&window.addEventListener&&window.addEventListener(\"storage\",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||\"\",t.model||null)}))}}class BaseService{constructor(e){this.client=e}}class SettingsService extends BaseService{async getAll(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/settings\",e)}async update(e,t){return t=Object.assign({method:\"PATCH\",body:e},t),this.client.send(\"/api/settings\",t)}async testS3(e=\"storage\",t){return t=Object.assign({method:\"POST\",body:{filesystem:e}},t),this.client.send(\"/api/settings/test/s3\",t).then((()=>!0))}async testEmail(e,t,s){return s=Object.assign({method:\"POST\",body:{email:e,template:t}},s),this.client.send(\"/api/settings/test/email\",s).then((()=>!0))}async generateAppleClientSecret(e,t,s,i,n,r){return r=Object.assign({method:\"POST\",body:{clientId:e,teamId:t,keyId:s,privateKey:i,duration:n}},r),this.client.send(\"/api/settings/apple/generate-client-secret\",r)}}class CrudService extends BaseService{decode(e){return e}async getFullList(e,t){if(\"number\"==typeof e)return this._getFullList(e,t);let s=500;return(t=Object.assign({},e,t)).batch&&(s=t.batch,delete t.batch),this._getFullList(s,t)}async getList(e=1,t=30,s){return(s=Object.assign({method:\"GET\"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(this.baseCrudPath,s).then((e=>(e.items=e.items?.map((e=>this.decode(e)))||[],e)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:\"one_by_filter_\"+this.baseCrudPath+\"_\"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((e=>{if(!e?.items?.length)throw new ClientResponseError({status:404,response:{code:404,message:\"The requested resource wasn't found.\",data:{}}});return e.items[0]}))}async getOne(e,t){if(!e)throw new ClientResponseError({url:this.client.buildUrl(this.baseCrudPath+\"/\"),status:404,response:{code:404,message:\"Missing required record id.\",data:{}}});return t=Object.assign({method:\"GET\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),t).then((e=>this.decode(e)))}async create(e,t){return t=Object.assign({method:\"POST\",body:e},t),this.client.send(this.baseCrudPath,t).then((e=>this.decode(e)))}async update(e,t,s){return s=Object.assign({method:\"PATCH\",body:t},s),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),s).then((e=>this.decode(e)))}async delete(e,t){return t=Object.assign({method:\"DELETE\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let s=[],request=async i=>this.getList(i,e||500,t).then((e=>{const t=e.items;return s=s.concat(t),t.length==e.perPage?request(i+1):s}));return request(1)}}function normalizeLegacyOptionsArgs(e,t,s,i){const n=void 0!==i;return n||void 0!==s?n?(console.warn(e),t.body=Object.assign({},t.body,s),t.query=Object.assign({},t.query,i),t):Object.assign(t,s):t}function resetAutoRefresh(e){e._resetAutoRefresh?.()}class AdminService extends CrudService{get baseCrudPath(){return\"/api/admins\"}async update(e,t,s){return super.update(e,t,s).then((e=>(this.client.authStore.model?.id===e.id&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.save(this.client.authStore.token,e),e)))}async delete(e,t){return super.delete(e,t).then((t=>(t&&this.client.authStore.model?.id===e&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.clear(),t)))}authResponse(e){const t=this.decode(e?.admin||{});return e?.token&&e?.admin&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:e?.token||\"\",admin:t})}async authWithPassword(e,t,s,i){let n={method:\"POST\",body:{identity:e,password:t}};n=normalizeLegacyOptionsArgs(\"This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).\",n,s,i);const r=n.autoRefreshThreshold;delete n.autoRefreshThreshold,n.autoRefresh||resetAutoRefresh(this.client);let o=await this.client.send(this.baseCrudPath+\"/auth-with-password\",n);return o=this.authResponse(o),r&&function registerAutoRefresh(e,t,s,i){resetAutoRefresh(e);const n=e.beforeSend,r=e.authStore.model,o=e.authStore.onChange(((t,s)=>{(!t||s?.id!=r?.id||(s?.collectionId||r?.collectionId)&&s?.collectionId!=r?.collectionId)&&resetAutoRefresh(e)}));e._resetAutoRefresh=function(){o(),e.beforeSend=n,delete e._resetAutoRefresh},e.beforeSend=async(r,o)=>{const a=e.authStore.token;if(o.query?.autoRefresh)return n?n(r,o):{url:r,sendOptions:o};let c=e.authStore.isValid;if(c&&isTokenExpired(e.authStore.token,t))try{await s()}catch(e){c=!1}c||await i();const l=o.headers||{};for(let t in l)if(\"authorization\"==t.toLowerCase()&&a==l[t]&&e.authStore.token){l[t]=e.authStore.token;break}return o.headers=l,n?n(r,o):{url:r,sendOptions:o}}}(this.client,r,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},n)))),o}async authRefresh(e,t){let s={method:\"POST\"};return s=normalizeLegacyOptionsArgs(\"This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).\",s,e,t),this.client.send(this.baseCrudPath+\"/auth-refresh\",s).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).\",i,t,s),this.client.send(this.baseCrudPath+\"/request-password-reset\",i).then((()=>!0))}async confirmPasswordReset(e,t,s,i,n){let r={method:\"POST\",body:{token:e,password:t,passwordConfirm:s}};return r=normalizeLegacyOptionsArgs(\"This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).\",r,i,n),this.client.send(this.baseCrudPath+\"/confirm-password-reset\",r).then((()=>!0))}}const i=[\"requestKey\",\"$cancelKey\",\"$autoCancel\",\"fetch\",\"headers\",\"body\",\"query\",\"params\",\"cache\",\"credentials\",\"headers\",\"integrity\",\"keepalive\",\"method\",\"mode\",\"redirect\",\"referrer\",\"referrerPolicy\",\"signal\",\"window\"];function normalizeUnknownQueryParams(e){if(e){e.query=e.query||{};for(let t in e)i.includes(t)||(e.query[t]=e[t],delete e[t])}}class RealtimeService extends BaseService{constructor(){super(...arguments),this.clientId=\"\",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,s){if(!e)throw new Error(\"topic must be set.\");let i=e;if(s){normalizeUnknownQueryParams(s);const e=\"options=\"+encodeURIComponent(JSON.stringify({query:s.query,headers:s.headers}));i+=(i.includes(\"?\")?\"&\":\"?\")+e}const listener=function(e){const s=e;let i;try{i=JSON.parse(s?.data)}catch{}t(i||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(listener),this.isConnected?1===this.subscriptions[i].length?await this.submitSubscriptions():this.eventSource?.addEventListener(i,listener):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,listener)}async unsubscribe(e){let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let e in s)if(this.hasSubscriptionListeners(e)){for(let t of this.subscriptions[e])this.eventSource?.removeEventListener(e,t);delete this.subscriptions[e],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let s in this.subscriptions)if((s+\"?\").startsWith(e)){t=!0;for(let e of this.subscriptions[s])this.eventSource?.removeEventListener(s,e);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let s=!1;const i=this.getSubscriptionsByTopic(e);for(let e in i){if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)continue;let i=!1;for(let s=this.subscriptions[e].length-1;s>=0;s--)this.subscriptions[e][s]===t&&(i=!0,delete this.subscriptions[e][s],this.subscriptions[e].splice(s,1),this.eventSource?.removeEventListener(e,t));i&&(this.subscriptions[e].length||delete this.subscriptions[e],s||this.hasSubscriptionListeners(e)||(s=!0))}this.hasSubscriptionListeners()?s&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let e in this.subscriptions)if(this.subscriptions[e]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send(\"/api/realtime\",{method:\"POST\",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return\"realtime_\"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes(\"?\")?e:e+\"?\";for(let s in this.subscriptions)(s+\"?\").startsWith(e)&&(t[s]=this.subscriptions[s]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error(\"EventSource connect took too long.\"))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl(\"/api/realtime\")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error(\"Failed to establish realtime connection.\"))},this.eventSource.addEventListener(\"PB_CONNECT\",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let e=3;for(;this.hasUnsentSubscriptions()&&e>0;)e--,await this.submitSubscriptions()})).then((()=>{for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const t=this.getSubscriptionsByTopic(\"PB_CONNECT\");for(let s in t)for(let i of t[s])i(e)})).catch((e=>{this.clientId=\"\",this.connectErrorHandler(e)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let t of this.pendingConnects)t.reject(new ClientResponseError(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId=\"\",!e){this.reconnectAttempts=0;for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[]}}}class RecordService extends CrudService{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+\"/records\"}get baseCollectionPath(){return\"/api/collections/\"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,s){if(!e)throw new Error(\"Missing topic.\");if(!t)throw new Error(\"Missing subscription callback.\");return this.client.realtime.subscribe(this.collectionIdOrName+\"/\"+e,t,s)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+\"/\"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(\"number\"==typeof e)return super.getFullList(e,t);const s=Object.assign({},e,t);return super.getFullList(s)}async getList(e=1,t=30,s){return super.getList(e,t,s)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,s){return super.update(e,t,s).then((e=>(this.client.authStore.model?.id!==e?.id||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,e),e)))}async delete(e,t){return super.delete(e,t).then((t=>(!t||this.client.authStore.model?.id!==e||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),t)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||\"\",record:t})}async listAuthMethods(e){return e=Object.assign({method:\"GET\"},e),this.client.send(this.baseCollectionPath+\"/auth-methods\",e).then((e=>Object.assign({},e,{usernamePassword:!!e?.usernamePassword,emailPassword:!!e?.emailPassword,authProviders:Array.isArray(e?.authProviders)?e?.authProviders:[]})))}async authWithPassword(e,t,s,i){let n={method:\"POST\",body:{identity:e,password:t}};return n=normalizeLegacyOptionsArgs(\"This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).\",n,s,i),this.client.send(this.baseCollectionPath+\"/auth-with-password\",n).then((e=>this.authResponse(e)))}async authWithOAuth2Code(e,t,s,i,n,r,o){let a={method:\"POST\",body:{provider:e,code:t,codeVerifier:s,redirectUrl:i,createData:n}};return a=normalizeLegacyOptionsArgs(\"This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).\",a,r,o),this.client.send(this.baseCollectionPath+\"/auth-with-oauth2\",a).then((e=>this.authResponse(e)))}async authWithOAuth2(...e){if(e.length>1||\"string\"==typeof e?.[0])return console.warn(\"PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration.\"),this.authWithOAuth2Code(e?.[0]||\"\",e?.[1]||\"\",e?.[2]||\"\",e?.[3]||\"\",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{},s=(await this.listAuthMethods()).authProviders.find((e=>e.name===t.provider));if(!s)throw new ClientResponseError(new Error(`Missing or invalid provider \"${t.provider}\".`));const i=this.client.buildUrl(\"/api/oauth2-redirect\"),n=new RealtimeService(this.client);let r=null;function cleanup(){r?.close(),n.unsubscribe()}return t.urlCallback||(r=openBrowserPopup(void 0)),new Promise((async(e,o)=>{try{await n.subscribe(\"@oauth2\",(async r=>{const a=n.clientId;try{if(!r.state||a!==r.state)throw new Error(\"State parameters don't match.\");if(r.error||!r.code)throw new Error(\"OAuth2 redirect error or missing code: \"+r.error);const n=Object.assign({},t);delete n.provider,delete n.scopes,delete n.createData,delete n.urlCallback;const o=await this.authWithOAuth2Code(s.name,r.code,s.codeVerifier,i,t.createData,n);e(o)}catch(e){o(new ClientResponseError(e))}cleanup()}));const a={state:n.clientId};t.scopes?.length&&(a.scope=t.scopes.join(\" \"));const c=this._replaceQueryParams(s.authUrl+i,a);let l=t.urlCallback||function(e){r?r.location.href=e:r=openBrowserPopup(e)};await l(c)}catch(e){cleanup(),o(new ClientResponseError(e))}}))}async authRefresh(e,t){let s={method:\"POST\"};return s=normalizeLegacyOptionsArgs(\"This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).\",s,e,t),this.client.send(this.baseCollectionPath+\"/auth-refresh\",s).then((e=>this.authResponse(e)))}async requestPasswordReset(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-password-reset\",i).then((()=>!0))}async confirmPasswordReset(e,t,s,i,n){let r={method:\"POST\",body:{token:e,password:t,passwordConfirm:s}};return r=normalizeLegacyOptionsArgs(\"This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).\",r,i,n),this.client.send(this.baseCollectionPath+\"/confirm-password-reset\",r).then((()=>!0))}async requestVerification(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-verification\",i).then((()=>!0))}async confirmVerification(e,t,s){let i={method:\"POST\",body:{token:e}};return i=normalizeLegacyOptionsArgs(\"This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/confirm-verification\",i).then((()=>{const t=getTokenPayload(e),s=this.client.authStore.model;return s&&!s.verified&&s.id===t.id&&s.collectionId===t.collectionId&&(s.verified=!0,this.client.authStore.save(this.client.authStore.token,s)),!0}))}async requestEmailChange(e,t,s){let i={method:\"POST\",body:{newEmail:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-email-change\",i).then((()=>!0))}async confirmEmailChange(e,t,s,i){let n={method:\"POST\",body:{token:e,password:t}};return n=normalizeLegacyOptionsArgs(\"This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).\",n,s,i),this.client.send(this.baseCollectionPath+\"/confirm-email-change\",n).then((()=>{const t=getTokenPayload(e),s=this.client.authStore.model;return s&&s.id===t.id&&s.collectionId===t.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(e,t){return t=Object.assign({method:\"GET\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e)+\"/external-auths\",t)}async unlinkExternalAuth(e,t,s){return s=Object.assign({method:\"DELETE\"},s),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e)+\"/external-auths/\"+encodeURIComponent(t),s).then((()=>!0))}_replaceQueryParams(e,t={}){let s=e,i=\"\";e.indexOf(\"?\")>=0&&(s=e.substring(0,e.indexOf(\"?\")),i=e.substring(e.indexOf(\"?\")+1));const n={},r=i.split(\"&\");for(const e of r){if(\"\"==e)continue;const t=e.split(\"=\");n[decodeURIComponent(t[0].replace(/\\+/g,\" \"))]=decodeURIComponent((t[1]||\"\").replace(/\\+/g,\" \"))}for(let e in t)t.hasOwnProperty(e)&&(null==t[e]?delete n[e]:n[e]=t[e]);i=\"\";for(let e in n)n.hasOwnProperty(e)&&(\"\"!=i&&(i+=\"&\"),i+=encodeURIComponent(e.replace(/%20/g,\"+\"))+\"=\"+encodeURIComponent(n[e].replace(/%20/g,\"+\")));return\"\"!=i?s+\"?\"+i:s}}function openBrowserPopup(e){if(\"undefined\"==typeof window||!window?.open)throw new ClientResponseError(new Error(\"Not in a browser context - please pass a custom urlCallback function.\"));let t=1024,s=768,i=window.innerWidth,n=window.innerHeight;t=t>i?i:t,s=s>n?n:s;let r=i/2-t/2,o=n/2-s/2;return window.open(e,\"popup_window\",\"width=\"+t+\",height=\"+s+\",top=\"+o+\",left=\"+r+\",resizable,menubar=no\")}class CollectionService extends CrudService{get baseCrudPath(){return\"/api/collections\"}async import(e,t=!1,s){return s=Object.assign({method:\"PUT\",body:{collections:e,deleteMissing:t}},s),this.client.send(this.baseCrudPath+\"/import\",s).then((()=>!0))}}class LogService extends BaseService{async getList(e=1,t=30,s){return(s=Object.assign({method:\"GET\"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(\"/api/logs\",s)}async getOne(e,t){if(!e)throw new ClientResponseError({url:this.client.buildUrl(\"/api/logs/\"),status:404,response:{code:404,message:\"Missing required log id.\",data:{}}});return t=Object.assign({method:\"GET\"},t),this.client.send(\"/api/logs/\"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/logs/stats\",e)}}class HealthService extends BaseService{async check(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/health\",e)}}class FileService extends BaseService{getUrl(e,t,s={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return\"\";const i=[];i.push(\"api\"),i.push(\"files\"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let n=this.client.buildUrl(i.join(\"/\"));if(Object.keys(s).length){!1===s.download&&delete s.download;const e=new URLSearchParams(s);n+=(n.includes(\"?\")?\"&\":\"?\")+e}return n}async getToken(e){return e=Object.assign({method:\"POST\"},e),this.client.send(\"/api/files/token\",e).then((e=>e?.token||\"\"))}}class BackupService extends BaseService{async getFullList(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/backups\",e)}async create(e,t){return t=Object.assign({method:\"POST\",body:{name:e}},t),this.client.send(\"/api/backups\",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:\"POST\",body:e},t),this.client.send(\"/api/backups/upload\",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:\"DELETE\"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:\"POST\"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Client{constructor(e=\"/\",t,s=\"en-US\"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=s,this.authStore=t||new LocalAuthStore,this.admins=new AdminService(this),this.collections=new CollectionService(this),this.files=new FileService(this),this.logs=new LogService(this),this.settings=new SettingsService(this),this.realtime=new RealtimeService(this),this.health=new HealthService(this),this.backups=new BackupService(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new RecordService(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let s in t){let i=t[s];switch(typeof i){case\"boolean\":case\"number\":i=\"\"+i;break;case\"string\":i=\"'\"+i.replace(/'/g,\"\\\\'\")+\"'\";break;default:i=null===i?\"null\":i instanceof Date?\"'\"+i.toISOString().replace(\"T\",\" \")+\"'\":\"'\"+JSON.stringify(i).replace(/'/g,\"\\\\'\")+\"'\"}e=e.replaceAll(\"{:\"+s+\"}\",i)}return e}getFileUrl(e,t,s={}){return this.files.getUrl(e,t,s)}buildUrl(e){let t=this.baseUrl;return\"undefined\"==typeof window||!window.location||t.startsWith(\"https://\")||t.startsWith(\"http://\")||(t=window.location.origin?.endsWith(\"/\")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||\"\",this.baseUrl.startsWith(\"/\")||(t+=window.location.pathname||\"/\",t+=t.endsWith(\"/\")?\"\":\"/\"),t+=this.baseUrl),e&&(t+=t.endsWith(\"/\")?\"\":\"/\",t+=e.startsWith(\"/\")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let s=this.buildUrl(e);if(this.beforeSend){const e=Object.assign({},await this.beforeSend(s,t));void 0!==e.url||void 0!==e.options?(s=e.url||s,t=e.options||t):Object.keys(e).length&&(t=e,console?.warn&&console.warn(\"Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.\"))}if(void 0!==t.query){const e=this.serializeQueryParams(t.query);e&&(s+=(s.includes(\"?\")?\"&\":\"?\")+e),delete t.query}\"application/json\"==this.getHeader(t.headers,\"Content-Type\")&&t.body&&\"string\"!=typeof t.body&&(t.body=JSON.stringify(t.body));return(t.fetch||fetch)(s,t).then((async e=>{let t={};try{t=await e.json()}catch(e){}if(this.afterSend&&(t=await this.afterSend(e,t)),e.status>=400)throw new ClientResponseError({url:e.url,status:e.status,data:t});return t})).catch((e=>{throw new ClientResponseError(e)}))}initSendOptions(e,t){if((t=Object.assign({method:\"GET\"},t)).body=this.convertToFormDataIfNeeded(t.body),normalizeUnknownQueryParams(t),t.query=Object.assign({},t.params,t.query),void 0===t.requestKey&&(!1===t.$autoCancel||!1===t.query.$autoCancel?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,null!==this.getHeader(t.headers,\"Content-Type\")||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{\"Content-Type\":\"application/json\"})),null===this.getHeader(t.headers,\"Accept-Language\")&&(t.headers=Object.assign({},t.headers,{\"Accept-Language\":this.lang})),this.authStore.token&&null===this.getHeader(t.headers,\"Authorization\")&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&null!==t.requestKey){const s=t.requestKey||(t.method||\"GET\")+e;delete t.requestKey,this.cancelRequest(s);const i=new AbortController;this.cancelControllers[s]=i,t.signal=i.signal}return t}convertToFormDataIfNeeded(e){if(\"undefined\"==typeof FormData||void 0===e||\"object\"!=typeof e||null===e||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(const s in e){const i=e[s];if(\"object\"!=typeof i||this.hasBlobField({data:i})){const e=Array.isArray(i)?i:[i];for(let i of e)t.append(s,i)}else{let e={};e[s]=i,t.append(\"@jsonPayload\",JSON.stringify(e))}}return t}hasBlobField(e){for(const t in e){const s=Array.isArray(e[t])?e[t]:[e[t]];for(const e of s)if(\"undefined\"!=typeof Blob&&e instanceof Blob||\"undefined\"!=typeof File&&e instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let s in e)if(s.toLowerCase()==t)return e[s];return null}isFormData(e){return e&&(\"FormData\"===e.constructor.name||\"undefined\"!=typeof FormData&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const s in e){if(null===e[s])continue;const i=e[s],n=encodeURIComponent(s);if(Array.isArray(i))for(const e of i)t.push(n+\"=\"+encodeURIComponent(e));else i instanceof Date?t.push(n+\"=\"+encodeURIComponent(i.toISOString())):null!==typeof i&&\"object\"==typeof i?t.push(n+\"=\"+encodeURIComponent(JSON.stringify(i))):t.push(n+\"=\"+encodeURIComponent(i))}return t.join(\"&\")}}class AsyncAuthStore extends BaseAuthStore{constructor(e){super(),this.queue=[],this.saveFunc=e.save,this.clearFunc=e.clear,this._enqueue((()=>this._loadInitial(e.initial)))}save(e,t){super.save(e,t);let s=\"\";try{s=JSON.stringify({token:e,model:t})}catch(e){console.warn(\"AsyncAuthStore: failed to stringify the new state\")}this._enqueue((()=>this.saveFunc(s)))}clear(){super.clear(),this.clearFunc?this._enqueue((()=>this.clearFunc())):this._enqueue((()=>this.saveFunc(\"\")))}async _loadInitial(e){try{if(e=await e){let t;\"string\"==typeof e?t=JSON.parse(e)||{}:\"object\"==typeof e&&(t=e),this.save(t.token||\"\",t.model||null)}}catch(e){}}_enqueue(e){this.queue.push(e),1==this.queue.length&&this._dequeue()}_dequeue(){this.queue.length&&this.queue[0]().finally((()=>{this.queue.shift(),this.queue.length&&this._dequeue()}))}}\n//# sourceMappingURL=pocketbase.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9ja2V0YmFzZS9kaXN0L3BvY2tldGJhc2UuZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsd0NBQXdDLGVBQWUsdUVBQXVFLDRhQUE0YSxrckJBQWtyQixXQUFXLHFCQUFxQixTQUFTLE9BQU8sVUFBVSxnREFBZ0QsMEJBQTBCLFdBQVcsK0JBQStCLHdCQUF3QixNQUFNLHdCQUF3QixRQUFRLEtBQUssV0FBVyxFQUFFLHlCQUF5QixnQkFBZ0Isa0JBQWtCLEtBQUsscUJBQXFCLGFBQWEsa0JBQWtCLFNBQVMsU0FBUyw0QkFBNEIsa0JBQWtCLDRCQUE0Qix3Q0FBd0MsSUFBSSxVQUFVLFNBQVMsUUFBUSxNQUFNLFNBQVMsZ0NBQWdDLHdCQUF3QixNQUFNLDRCQUE0Qiw4REFBOEQsYUFBYSxnRUFBZ0UsY0FBYyxtQkFBbUIsbUJBQW1CLDBFQUEwRSxNQUFNLHdCQUF3QixhQUFhLHFFQUFxRSxNQUFNLGtCQUFrQixXQUFXLGlFQUFpRSxNQUFNLGNBQWMsY0FBYyx1QkFBdUIsNkVBQTZFLHlGQUF5RixNQUFNLGtDQUFrQyxzQkFBc0IsNEJBQTRCLHFCQUFxQix3RUFBd0UsZ0JBQWdCLGNBQWMsTUFBTSxtQkFBbUIsaUJBQWlCLE1BQU0saUJBQWlCLGVBQWUsTUFBTSwyREFBMkQsZUFBZSx3RUFBd0UsYUFBYSxpQkFBaUIsTUFBTSxnQkFBZ0IsY0FBYyxNQUFNLG1CQUFtQixpQkFBaUIsTUFBTSxpQkFBaUIsZUFBZSxNQUFNLDJEQUEyRCxTQUFTLDBCQUEwQixrREFBa0QsMEJBQTBCLDZCQUE2QixNQUFNLDRCQUE0QixTQUFTLHlFQUF5RSx3REFBd0QsYUFBYSx5QkFBeUIsVUFBVSxTQUFTLCtCQUErQix5QkFBeUIsbUVBQW1FLG1DQUFtQyxrQ0FBa0Msc0dBQXNHLHlCQUF5QixnQkFBZ0Isc0pBQXNKLFVBQVUsa0JBQWtCLG9CQUFvQixjQUFjLGlFQUFpRSxZQUFZLHNCQUFzQixZQUFZLHNCQUFz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QixLQUFLLFNBQVMsbURBQW1ELFNBQVMsZ0JBQWdCLGtCQUFrQix3Q0FBd0Msc0hBQXNILFNBQVMsZUFBZSxPQUFPLG1CQUFtQixpREFBaUQsWUFBWSxjQUFjLGlHQUFpRyx3QkFBd0IsV0FBVyxrQkFBa0Isd0JBQXdCLHFDQUFxQyx5RUFBeUUscU1BQXFNLG9CQUFvQiwyQ0FBMkMsZUFBZSxvSEFBb0gsVUFBVSxnQkFBZ0IsU0FBUyxJQUFJLGtCQUFrQixnQkFBZ0IsRUFBRSxTQUFTLGtFQUFrRSxzQ0FBc0MsUUFBUSwwR0FBMEcsc0JBQXNCLElBQUksY0FBYyxNQUFNLHNDQUFzQyxpRUFBaUUsV0FBVyxZQUFZLHlEQUF5RCxXQUFXLGlEQUFpRCxzREFBc0QsSUFBdVI7QUFDcjVsQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqczEzLXJlYWx0aW1lLWNoYXQtd2l0aC1zb2NrZXRpby8uL25vZGVfbW9kdWxlcy9wb2NrZXRiYXNlL2Rpc3QvcG9ja2V0YmFzZS5lcy5tanM/ZmVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDbGllbnRSZXNwb25zZUVycm9yIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoXCJDbGllbnRSZXNwb25zZUVycm9yXCIpLHRoaXMudXJsPVwiXCIsdGhpcy5zdGF0dXM9MCx0aGlzLnJlc3BvbnNlPXt9LHRoaXMuaXNBYm9ydD0hMSx0aGlzLm9yaWdpbmFsRXJyb3I9bnVsbCxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxDbGllbnRSZXNwb25zZUVycm9yLnByb3RvdHlwZSksbnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYodGhpcy51cmw9XCJzdHJpbmdcIj09dHlwZW9mIGUudXJsP2UudXJsOlwiXCIsdGhpcy5zdGF0dXM9XCJudW1iZXJcIj09dHlwZW9mIGUuc3RhdHVzP2Uuc3RhdHVzOjAsdGhpcy5pc0Fib3J0PSEhZS5pc0Fib3J0LHRoaXMub3JpZ2luYWxFcnJvcj1lLm9yaWdpbmFsRXJyb3IsbnVsbCE9PWUucmVzcG9uc2UmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnJlc3BvbnNlP3RoaXMucmVzcG9uc2U9ZS5yZXNwb25zZTpudWxsIT09ZS5kYXRhJiZcIm9iamVjdFwiPT10eXBlb2YgZS5kYXRhP3RoaXMucmVzcG9uc2U9ZS5kYXRhOnRoaXMucmVzcG9uc2U9e30pLHRoaXMub3JpZ2luYWxFcnJvcnx8ZSBpbnN0YW5jZW9mIENsaWVudFJlc3BvbnNlRXJyb3J8fCh0aGlzLm9yaWdpbmFsRXJyb3I9ZSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERPTUV4Y2VwdGlvbiYmZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiYmKHRoaXMuaXNBYm9ydD0hMCksdGhpcy5uYW1lPVwiQ2xpZW50UmVzcG9uc2VFcnJvciBcIit0aGlzLnN0YXR1cyx0aGlzLm1lc3NhZ2U9dGhpcy5yZXNwb25zZT8ubWVzc2FnZSx0aGlzLm1lc3NhZ2V8fCh0aGlzLmlzQWJvcnQ/dGhpcy5tZXNzYWdlPVwiVGhlIHJlcXVlc3Qgd2FzIGF1dG9jYW5jZWxsZWQuIFlvdSBjYW4gZmluZCBtb3JlIGluZm8gaW4gaHR0cHM6Ly9naXRodWIuY29tL3BvY2tldGJhc2UvanMtc2RrI2F1dG8tY2FuY2VsbGF0aW9uLlwiOnRoaXMub3JpZ2luYWxFcnJvcj8uY2F1c2U/Lm1lc3NhZ2U/LmluY2x1ZGVzKFwiRUNPTk5SRUZVU0VEIDo6MVwiKT90aGlzLm1lc3NhZ2U9XCJGYWlsZWQgdG8gY29ubmVjdCB0byB0aGUgUG9ja2V0QmFzZSBzZXJ2ZXIuIFRyeSBjaGFuZ2luZyB0aGUgU0RLIFVSTCBmcm9tIGxvY2FsaG9zdCB0byAxMjcuMC4wLjEgKGh0dHBzOi8vZ2l0aHViLmNvbS9wb2NrZXRiYXNlL2pzLXNkay9pc3N1ZXMvMjEpLlwiOnRoaXMubWVzc2FnZT1cIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIHByb2Nlc3NpbmcgeW91ciByZXF1ZXN0LlwiKX1nZXQgZGF0YSgpe3JldHVybiB0aGlzLnJlc3BvbnNlfXRvSlNPTigpe3JldHVybnsuLi50aGlzfX19Y29uc3QgZT0vXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztmdW5jdGlvbiBjb29raWVQYXJzZShlLHQpe2NvbnN0IHM9e307aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHM7Y29uc3QgaT1PYmplY3QuYXNzaWduKHt9LHR8fHt9KS5kZWNvZGV8fGRlZmF1bHREZWNvZGU7bGV0IG49MDtmb3IoO248ZS5sZW5ndGg7KXtjb25zdCB0PWUuaW5kZXhPZihcIj1cIixuKTtpZigtMT09PXQpYnJlYWs7bGV0IHI9ZS5pbmRleE9mKFwiO1wiLG4pO2lmKC0xPT09cilyPWUubGVuZ3RoO2Vsc2UgaWYocjx0KXtuPWUubGFzdEluZGV4T2YoXCI7XCIsdC0xKSsxO2NvbnRpbnVlfWNvbnN0IG89ZS5zbGljZShuLHQpLnRyaW0oKTtpZih2b2lkIDA9PT1zW29dKXtsZXQgbj1lLnNsaWNlKHQrMSxyKS50cmltKCk7MzQ9PT1uLmNoYXJDb2RlQXQoMCkmJihuPW4uc2xpY2UoMSwtMSkpO3RyeXtzW29dPWkobil9Y2F0Y2goZSl7c1tvXT1ufX1uPXIrMX1yZXR1cm4gc31mdW5jdGlvbiBjb29raWVTZXJpYWxpemUodCxzLGkpe2NvbnN0IG49T2JqZWN0LmFzc2lnbih7fSxpfHx7fSkscj1uLmVuY29kZXx8ZGVmYXVsdEVuY29kZTtpZighZS50ZXN0KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBuYW1lIGlzIGludmFsaWRcIik7Y29uc3Qgbz1yKHMpO2lmKG8mJiFlLnRlc3QobykpdGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IHZhbCBpcyBpbnZhbGlkXCIpO2xldCBhPXQrXCI9XCIrbztpZihudWxsIT1uLm1heEFnZSl7Y29uc3QgZT1uLm1heEFnZS0wO2lmKGlzTmFOKGUpfHwhaXNGaW5pdGUoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBtYXhBZ2UgaXMgaW52YWxpZFwiKTthKz1cIjsgTWF4LUFnZT1cIitNYXRoLmZsb29yKGUpfWlmKG4uZG9tYWluKXtpZighZS50ZXN0KG4uZG9tYWluKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIGRvbWFpbiBpcyBpbnZhbGlkXCIpO2ErPVwiOyBEb21haW49XCIrbi5kb21haW59aWYobi5wYXRoKXtpZighZS50ZXN0KG4ucGF0aCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBwYXRoIGlzIGludmFsaWRcIik7YSs9XCI7IFBhdGg9XCIrbi5wYXRofWlmKG4uZXhwaXJlcyl7aWYoIWZ1bmN0aW9uIGlzRGF0ZShlKXtyZXR1cm5cIltvYmplY3QgRGF0ZV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKXx8ZSBpbnN0YW5jZW9mIERhdGV9KG4uZXhwaXJlcyl8fGlzTmFOKG4uZXhwaXJlcy52YWx1ZU9mKCkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb24gZXhwaXJlcyBpcyBpbnZhbGlkXCIpO2ErPVwiOyBFeHBpcmVzPVwiK24uZXhwaXJlcy50b1VUQ1N0cmluZygpfWlmKG4uaHR0cE9ubHkmJihhKz1cIjsgSHR0cE9ubHlcIiksbi5zZWN1cmUmJihhKz1cIjsgU2VjdXJlXCIpLG4ucHJpb3JpdHkpe3N3aXRjaChcInN0cmluZ1wiPT10eXBlb2Ygbi5wcmlvcml0eT9uLnByaW9yaXR5LnRvTG93ZXJDYXNlKCk6bi5wcmlvcml0eSl7Y2FzZVwibG93XCI6YSs9XCI7IFByaW9yaXR5PUxvd1wiO2JyZWFrO2Nhc2VcIm1lZGl1bVwiOmErPVwiOyBQcmlvcml0eT1NZWRpdW1cIjticmVhaztjYXNlXCJoaWdoXCI6YSs9XCI7IFByaW9yaXR5PUhpZ2hcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb24gcHJpb3JpdHkgaXMgaW52YWxpZFwiKX19aWYobi5zYW1lU2l0ZSl7c3dpdGNoKFwic3RyaW5nXCI9PXR5cGVvZiBuLnNhbWVTaXRlP24uc2FtZVNpdGUudG9Mb3dlckNhc2UoKTpuLnNhbWVTaXRlKXtjYXNlITA6YSs9XCI7IFNhbWVTaXRlPVN0cmljdFwiO2JyZWFrO2Nhc2VcImxheFwiOmErPVwiOyBTYW1lU2l0ZT1MYXhcIjticmVhaztjYXNlXCJzdHJpY3RcIjphKz1cIjsgU2FtZVNpdGU9U3RyaWN0XCI7YnJlYWs7Y2FzZVwibm9uZVwiOmErPVwiOyBTYW1lU2l0ZT1Ob25lXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIHNhbWVTaXRlIGlzIGludmFsaWRcIil9fXJldHVybiBhfWZ1bmN0aW9uIGRlZmF1bHREZWNvZGUoZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoXCIlXCIpP2RlY29kZVVSSUNvbXBvbmVudChlKTplfWZ1bmN0aW9uIGRlZmF1bHRFbmNvZGUoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX1sZXQgdDtmdW5jdGlvbiBnZXRUb2tlblBheWxvYWQoZSl7aWYoZSl0cnl7Y29uc3Qgcz1kZWNvZGVVUklDb21wb25lbnQodChlLnNwbGl0KFwiLlwiKVsxXSkuc3BsaXQoXCJcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIiVcIisoXCIwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKX0pKS5qb2luKFwiXCIpKTtyZXR1cm4gSlNPTi5wYXJzZShzKXx8e319Y2F0Y2goZSl7fXJldHVybnt9fWZ1bmN0aW9uIGlzVG9rZW5FeHBpcmVkKGUsdD0wKXtsZXQgcz1nZXRUb2tlblBheWxvYWQoZSk7cmV0dXJuIShPYmplY3Qua2V5cyhzKS5sZW5ndGg+MCYmKCFzLmV4cHx8cy5leHAtdD5EYXRlLm5vdygpLzFlMykpfXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgYXRvYj9hdG9iOmU9PntsZXQgdD1TdHJpbmcoZSkucmVwbGFjZSgvPSskLyxcIlwiKTtpZih0Lmxlbmd0aCU0PT0xKXRocm93IG5ldyBFcnJvcihcIidhdG9iJyBmYWlsZWQ6IFRoZSBzdHJpbmcgdG8gYmUgZGVjb2RlZCBpcyBub3QgY29ycmVjdGx5IGVuY29kZWQuXCIpO2Zvcih2YXIgcyxpLG49MCxyPTAsbz1cIlwiO2k9dC5jaGFyQXQocisrKTt+aSYmKHM9biU0PzY0KnMraTppLG4rKyU0KT9vKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZzPj4oLTIqbiY2KSk6MClpPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIi5pbmRleE9mKGkpO3JldHVybiBvfTtjb25zdCBzPVwicGJfYXV0aFwiO2NsYXNzIEJhc2VBdXRoU3RvcmV7Y29uc3RydWN0b3IoKXt0aGlzLmJhc2VUb2tlbj1cIlwiLHRoaXMuYmFzZU1vZGVsPW51bGwsdGhpcy5fb25DaGFuZ2VDYWxsYmFja3M9W119Z2V0IHRva2VuKCl7cmV0dXJuIHRoaXMuYmFzZVRva2VufWdldCBtb2RlbCgpe3JldHVybiB0aGlzLmJhc2VNb2RlbH1nZXQgaXNWYWxpZCgpe3JldHVybiFpc1Rva2VuRXhwaXJlZCh0aGlzLnRva2VuKX1nZXQgaXNBZG1pbigpe3JldHVyblwiYWRtaW5cIj09PWdldFRva2VuUGF5bG9hZCh0aGlzLnRva2VuKS50eXBlfWdldCBpc0F1dGhSZWNvcmQoKXtyZXR1cm5cImF1dGhSZWNvcmRcIj09PWdldFRva2VuUGF5bG9hZCh0aGlzLnRva2VuKS50eXBlfXNhdmUoZSx0KXt0aGlzLmJhc2VUb2tlbj1lfHxcIlwiLHRoaXMuYmFzZU1vZGVsPXR8fG51bGwsdGhpcy50cmlnZ2VyQ2hhbmdlKCl9Y2xlYXIoKXt0aGlzLmJhc2VUb2tlbj1cIlwiLHRoaXMuYmFzZU1vZGVsPW51bGwsdGhpcy50cmlnZ2VyQ2hhbmdlKCl9bG9hZEZyb21Db29raWUoZSx0PXMpe2NvbnN0IGk9Y29va2llUGFyc2UoZXx8XCJcIilbdF18fFwiXCI7bGV0IG49e307dHJ5e249SlNPTi5wYXJzZShpKSwobnVsbD09PXR5cGVvZiBufHxcIm9iamVjdFwiIT10eXBlb2Ygbnx8QXJyYXkuaXNBcnJheShuKSkmJihuPXt9KX1jYXRjaChlKXt9dGhpcy5zYXZlKG4udG9rZW58fFwiXCIsbi5tb2RlbHx8bnVsbCl9ZXhwb3J0VG9Db29raWUoZSx0PXMpe2NvbnN0IGk9e3NlY3VyZTohMCxzYW1lU2l0ZTohMCxodHRwT25seTohMCxwYXRoOlwiL1wifSxuPWdldFRva2VuUGF5bG9hZCh0aGlzLnRva2VuKTtpLmV4cGlyZXM9bj8uZXhwP25ldyBEYXRlKDFlMypuLmV4cCk6bmV3IERhdGUoXCIxOTcwLTAxLTAxXCIpLGU9T2JqZWN0LmFzc2lnbih7fSxpLGUpO2NvbnN0IHI9e3Rva2VuOnRoaXMudG9rZW4sbW9kZWw6dGhpcy5tb2RlbD9KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubW9kZWwpKTpudWxsfTtsZXQgbz1jb29raWVTZXJpYWxpemUodCxKU09OLnN0cmluZ2lmeShyKSxlKTtjb25zdCBhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iP25ldyBCbG9iKFtvXSkuc2l6ZTpvLmxlbmd0aDtpZihyLm1vZGVsJiZhPjQwOTYpe3IubW9kZWw9e2lkOnI/Lm1vZGVsPy5pZCxlbWFpbDpyPy5tb2RlbD8uZW1haWx9O2NvbnN0IHM9W1wiY29sbGVjdGlvbklkXCIsXCJ1c2VybmFtZVwiLFwidmVyaWZpZWRcIl07Zm9yKGNvbnN0IGUgaW4gdGhpcy5tb2RlbClzLmluY2x1ZGVzKGUpJiYoci5tb2RlbFtlXT10aGlzLm1vZGVsW2VdKTtvPWNvb2tpZVNlcmlhbGl6ZSh0LEpTT04uc3RyaW5naWZ5KHIpLGUpfXJldHVybiBvfW9uQ2hhbmdlKGUsdD0hMSl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2tzLnB1c2goZSksdCYmZSh0aGlzLnRva2VuLHRoaXMubW9kZWwpLCgpPT57Zm9yKGxldCB0PXRoaXMuX29uQ2hhbmdlQ2FsbGJhY2tzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2tzW3RdPT1lKXJldHVybiBkZWxldGUgdGhpcy5fb25DaGFuZ2VDYWxsYmFja3NbdF0sdm9pZCB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrcy5zcGxpY2UodCwxKX19dHJpZ2dlckNoYW5nZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2tzKWUmJmUodGhpcy50b2tlbix0aGlzLm1vZGVsKX19Y2xhc3MgTG9jYWxBdXRoU3RvcmUgZXh0ZW5kcyBCYXNlQXV0aFN0b3Jle2NvbnN0cnVjdG9yKGU9XCJwb2NrZXRiYXNlX2F1dGhcIil7c3VwZXIoKSx0aGlzLnN0b3JhZ2VGYWxsYmFjaz17fSx0aGlzLnN0b3JhZ2VLZXk9ZSx0aGlzLl9iaW5kU3RvcmFnZUV2ZW50KCl9Z2V0IHRva2VuKCl7cmV0dXJuKHRoaXMuX3N0b3JhZ2VHZXQodGhpcy5zdG9yYWdlS2V5KXx8e30pLnRva2VufHxcIlwifWdldCBtb2RlbCgpe3JldHVybih0aGlzLl9zdG9yYWdlR2V0KHRoaXMuc3RvcmFnZUtleSl8fHt9KS5tb2RlbHx8bnVsbH1zYXZlKGUsdCl7dGhpcy5fc3RvcmFnZVNldCh0aGlzLnN0b3JhZ2VLZXkse3Rva2VuOmUsbW9kZWw6dH0pLHN1cGVyLnNhdmUoZSx0KX1jbGVhcigpe3RoaXMuX3N0b3JhZ2VSZW1vdmUodGhpcy5zdG9yYWdlS2V5KSxzdXBlci5jbGVhcigpfV9zdG9yYWdlR2V0KGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdz8ubG9jYWxTdG9yYWdlKXtjb25zdCB0PXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKXx8XCJcIjt0cnl7cmV0dXJuIEpTT04ucGFyc2UodCl9Y2F0Y2goZSl7cmV0dXJuIHR9fXJldHVybiB0aGlzLnN0b3JhZ2VGYWxsYmFja1tlXX1fc3RvcmFnZVNldChlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdz8ubG9jYWxTdG9yYWdlKXtsZXQgcz10O1wic3RyaW5nXCIhPXR5cGVvZiB0JiYocz1KU09OLnN0cmluZ2lmeSh0KSksd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUscyl9ZWxzZSB0aGlzLnN0b3JhZ2VGYWxsYmFja1tlXT10fV9zdG9yYWdlUmVtb3ZlKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdz8ubG9jYWxTdG9yYWdlJiZ3aW5kb3cubG9jYWxTdG9yYWdlPy5yZW1vdmVJdGVtKGUpLGRlbGV0ZSB0aGlzLnN0b3JhZ2VGYWxsYmFja1tlXX1fYmluZFN0b3JhZ2VFdmVudCgpe1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdz8ubG9jYWxTdG9yYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsKGU9PntpZihlLmtleSE9dGhpcy5zdG9yYWdlS2V5KXJldHVybjtjb25zdCB0PXRoaXMuX3N0b3JhZ2VHZXQodGhpcy5zdG9yYWdlS2V5KXx8e307c3VwZXIuc2F2ZSh0LnRva2VufHxcIlwiLHQubW9kZWx8fG51bGwpfSkpfX1jbGFzcyBCYXNlU2VydmljZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmNsaWVudD1lfX1jbGFzcyBTZXR0aW5nc1NlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZXthc3luYyBnZXRBbGwoZSl7cmV0dXJuIGU9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LGUpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL3NldHRpbmdzXCIsZSl9YXN5bmMgdXBkYXRlKGUsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUEFUQ0hcIixib2R5OmV9LHQpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL3NldHRpbmdzXCIsdCl9YXN5bmMgdGVzdFMzKGU9XCJzdG9yYWdlXCIsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwiLGJvZHk6e2ZpbGVzeXN0ZW06ZX19LHQpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL3NldHRpbmdzL3Rlc3QvczNcIix0KS50aGVuKCgoKT0+ITApKX1hc3luYyB0ZXN0RW1haWwoZSx0LHMpe3JldHVybiBzPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIlBPU1RcIixib2R5OntlbWFpbDplLHRlbXBsYXRlOnR9fSxzKSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9zZXR0aW5ncy90ZXN0L2VtYWlsXCIscykudGhlbigoKCk9PiEwKSl9YXN5bmMgZ2VuZXJhdGVBcHBsZUNsaWVudFNlY3JldChlLHQscyxpLG4scil7cmV0dXJuIHI9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwiLGJvZHk6e2NsaWVudElkOmUsdGVhbUlkOnQsa2V5SWQ6cyxwcml2YXRlS2V5OmksZHVyYXRpb246bn19LHIpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL3NldHRpbmdzL2FwcGxlL2dlbmVyYXRlLWNsaWVudC1zZWNyZXRcIixyKX19Y2xhc3MgQ3J1ZFNlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZXtkZWNvZGUoZSl7cmV0dXJuIGV9YXN5bmMgZ2V0RnVsbExpc3QoZSx0KXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gdGhpcy5fZ2V0RnVsbExpc3QoZSx0KTtsZXQgcz01MDA7cmV0dXJuKHQ9T2JqZWN0LmFzc2lnbih7fSxlLHQpKS5iYXRjaCYmKHM9dC5iYXRjaCxkZWxldGUgdC5iYXRjaCksdGhpcy5fZ2V0RnVsbExpc3Qocyx0KX1hc3luYyBnZXRMaXN0KGU9MSx0PTMwLHMpe3JldHVybihzPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkdFVFwifSxzKSkucXVlcnk9T2JqZWN0LmFzc2lnbih7cGFnZTplLHBlclBhZ2U6dH0scy5xdWVyeSksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDcnVkUGF0aCxzKS50aGVuKChlPT4oZS5pdGVtcz1lLml0ZW1zPy5tYXAoKGU9PnRoaXMuZGVjb2RlKGUpKSl8fFtdLGUpKSl9YXN5bmMgZ2V0Rmlyc3RMaXN0SXRlbShlLHQpe3JldHVybih0PU9iamVjdC5hc3NpZ24oe3JlcXVlc3RLZXk6XCJvbmVfYnlfZmlsdGVyX1wiK3RoaXMuYmFzZUNydWRQYXRoK1wiX1wiK2V9LHQpKS5xdWVyeT1PYmplY3QuYXNzaWduKHtmaWx0ZXI6ZSxza2lwVG90YWw6MX0sdC5xdWVyeSksdGhpcy5nZXRMaXN0KDEsMSx0KS50aGVuKChlPT57aWYoIWU/Lml0ZW1zPy5sZW5ndGgpdGhyb3cgbmV3IENsaWVudFJlc3BvbnNlRXJyb3Ioe3N0YXR1czo0MDQscmVzcG9uc2U6e2NvZGU6NDA0LG1lc3NhZ2U6XCJUaGUgcmVxdWVzdGVkIHJlc291cmNlIHdhc24ndCBmb3VuZC5cIixkYXRhOnt9fX0pO3JldHVybiBlLml0ZW1zWzBdfSkpfWFzeW5jIGdldE9uZShlLHQpe2lmKCFlKXRocm93IG5ldyBDbGllbnRSZXNwb25zZUVycm9yKHt1cmw6dGhpcy5jbGllbnQuYnVpbGRVcmwodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvXCIpLHN0YXR1czo0MDQscmVzcG9uc2U6e2NvZGU6NDA0LG1lc3NhZ2U6XCJNaXNzaW5nIHJlcXVpcmVkIHJlY29yZCBpZC5cIixkYXRhOnt9fX0pO3JldHVybiB0PU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkdFVFwifSx0KSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL1wiK2VuY29kZVVSSUNvbXBvbmVudChlKSx0KS50aGVuKChlPT50aGlzLmRlY29kZShlKSkpfWFzeW5jIGNyZWF0ZShlLHQpe3JldHVybiB0PU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIlBPU1RcIixib2R5OmV9LHQpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgsdCkudGhlbigoZT0+dGhpcy5kZWNvZGUoZSkpKX1hc3luYyB1cGRhdGUoZSx0LHMpe3JldHVybiBzPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIlBBVENIXCIsYm9keTp0fSxzKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL1wiK2VuY29kZVVSSUNvbXBvbmVudChlKSxzKS50aGVuKChlPT50aGlzLmRlY29kZShlKSkpfWFzeW5jIGRlbGV0ZShlLHQpe3JldHVybiB0PU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkRFTEVURVwifSx0KSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL1wiK2VuY29kZVVSSUNvbXBvbmVudChlKSx0KS50aGVuKCgoKT0+ITApKX1fZ2V0RnVsbExpc3QoZT01MDAsdCl7KHQ9dHx8e30pLnF1ZXJ5PU9iamVjdC5hc3NpZ24oe3NraXBUb3RhbDoxfSx0LnF1ZXJ5KTtsZXQgcz1bXSxyZXF1ZXN0PWFzeW5jIGk9PnRoaXMuZ2V0TGlzdChpLGV8fDUwMCx0KS50aGVuKChlPT57Y29uc3QgdD1lLml0ZW1zO3JldHVybiBzPXMuY29uY2F0KHQpLHQubGVuZ3RoPT1lLnBlclBhZ2U/cmVxdWVzdChpKzEpOnN9KSk7cmV0dXJuIHJlcXVlc3QoMSl9fWZ1bmN0aW9uIG5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKGUsdCxzLGkpe2NvbnN0IG49dm9pZCAwIT09aTtyZXR1cm4gbnx8dm9pZCAwIT09cz9uPyhjb25zb2xlLndhcm4oZSksdC5ib2R5PU9iamVjdC5hc3NpZ24oe30sdC5ib2R5LHMpLHQucXVlcnk9T2JqZWN0LmFzc2lnbih7fSx0LnF1ZXJ5LGkpLHQpOk9iamVjdC5hc3NpZ24odCxzKTp0fWZ1bmN0aW9uIHJlc2V0QXV0b1JlZnJlc2goZSl7ZS5fcmVzZXRBdXRvUmVmcmVzaD8uKCl9Y2xhc3MgQWRtaW5TZXJ2aWNlIGV4dGVuZHMgQ3J1ZFNlcnZpY2V7Z2V0IGJhc2VDcnVkUGF0aCgpe3JldHVyblwiL2FwaS9hZG1pbnNcIn1hc3luYyB1cGRhdGUoZSx0LHMpe3JldHVybiBzdXBlci51cGRhdGUoZSx0LHMpLnRoZW4oKGU9Pih0aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmlkPT09ZS5pZCYmdm9pZCAwPT09dGhpcy5jbGllbnQuYXV0aFN0b3JlLm1vZGVsPy5jb2xsZWN0aW9uSWQmJnRoaXMuY2xpZW50LmF1dGhTdG9yZS5zYXZlKHRoaXMuY2xpZW50LmF1dGhTdG9yZS50b2tlbixlKSxlKSkpfWFzeW5jIGRlbGV0ZShlLHQpe3JldHVybiBzdXBlci5kZWxldGUoZSx0KS50aGVuKCh0PT4odCYmdGhpcy5jbGllbnQuYXV0aFN0b3JlLm1vZGVsPy5pZD09PWUmJnZvaWQgMD09PXRoaXMuY2xpZW50LmF1dGhTdG9yZS5tb2RlbD8uY29sbGVjdGlvbklkJiZ0aGlzLmNsaWVudC5hdXRoU3RvcmUuY2xlYXIoKSx0KSkpfWF1dGhSZXNwb25zZShlKXtjb25zdCB0PXRoaXMuZGVjb2RlKGU/LmFkbWlufHx7fSk7cmV0dXJuIGU/LnRva2VuJiZlPy5hZG1pbiYmdGhpcy5jbGllbnQuYXV0aFN0b3JlLnNhdmUoZS50b2tlbix0KSxPYmplY3QuYXNzaWduKHt9LGUse3Rva2VuOmU/LnRva2VufHxcIlwiLGFkbWluOnR9KX1hc3luYyBhdXRoV2l0aFBhc3N3b3JkKGUsdCxzLGkpe2xldCBuPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7aWRlbnRpdHk6ZSxwYXNzd29yZDp0fX07bj1ub3JtYWxpemVMZWdhY3lPcHRpb25zQXJncyhcIlRoaXMgZm9ybSBvZiBhdXRoV2l0aFBhc3N3b3JkKGVtYWlsLCBwYXNzLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCBhdXRoV2l0aFBhc3N3b3JkKGVtYWlsLCBwYXNzLCBvcHRpb25zPykuXCIsbixzLGkpO2NvbnN0IHI9bi5hdXRvUmVmcmVzaFRocmVzaG9sZDtkZWxldGUgbi5hdXRvUmVmcmVzaFRocmVzaG9sZCxuLmF1dG9SZWZyZXNofHxyZXNldEF1dG9SZWZyZXNoKHRoaXMuY2xpZW50KTtsZXQgbz1hd2FpdCB0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL2F1dGgtd2l0aC1wYXNzd29yZFwiLG4pO3JldHVybiBvPXRoaXMuYXV0aFJlc3BvbnNlKG8pLHImJmZ1bmN0aW9uIHJlZ2lzdGVyQXV0b1JlZnJlc2goZSx0LHMsaSl7cmVzZXRBdXRvUmVmcmVzaChlKTtjb25zdCBuPWUuYmVmb3JlU2VuZCxyPWUuYXV0aFN0b3JlLm1vZGVsLG89ZS5hdXRoU3RvcmUub25DaGFuZ2UoKCh0LHMpPT57KCF0fHxzPy5pZCE9cj8uaWR8fChzPy5jb2xsZWN0aW9uSWR8fHI/LmNvbGxlY3Rpb25JZCkmJnM/LmNvbGxlY3Rpb25JZCE9cj8uY29sbGVjdGlvbklkKSYmcmVzZXRBdXRvUmVmcmVzaChlKX0pKTtlLl9yZXNldEF1dG9SZWZyZXNoPWZ1bmN0aW9uKCl7bygpLGUuYmVmb3JlU2VuZD1uLGRlbGV0ZSBlLl9yZXNldEF1dG9SZWZyZXNofSxlLmJlZm9yZVNlbmQ9YXN5bmMocixvKT0+e2NvbnN0IGE9ZS5hdXRoU3RvcmUudG9rZW47aWYoby5xdWVyeT8uYXV0b1JlZnJlc2gpcmV0dXJuIG4/bihyLG8pOnt1cmw6cixzZW5kT3B0aW9uczpvfTtsZXQgYz1lLmF1dGhTdG9yZS5pc1ZhbGlkO2lmKGMmJmlzVG9rZW5FeHBpcmVkKGUuYXV0aFN0b3JlLnRva2VuLHQpKXRyeXthd2FpdCBzKCl9Y2F0Y2goZSl7Yz0hMX1jfHxhd2FpdCBpKCk7Y29uc3QgbD1vLmhlYWRlcnN8fHt9O2ZvcihsZXQgdCBpbiBsKWlmKFwiYXV0aG9yaXphdGlvblwiPT10LnRvTG93ZXJDYXNlKCkmJmE9PWxbdF0mJmUuYXV0aFN0b3JlLnRva2VuKXtsW3RdPWUuYXV0aFN0b3JlLnRva2VuO2JyZWFrfXJldHVybiBvLmhlYWRlcnM9bCxuP24ocixvKTp7dXJsOnIsc2VuZE9wdGlvbnM6b319fSh0aGlzLmNsaWVudCxyLCgoKT0+dGhpcy5hdXRoUmVmcmVzaCh7YXV0b1JlZnJlc2g6ITB9KSksKCgpPT50aGlzLmF1dGhXaXRoUGFzc3dvcmQoZSx0LE9iamVjdC5hc3NpZ24oe2F1dG9SZWZyZXNoOiEwfSxuKSkpKSxvfWFzeW5jIGF1dGhSZWZyZXNoKGUsdCl7bGV0IHM9e21ldGhvZDpcIlBPU1RcIn07cmV0dXJuIHM9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgYXV0aFJlZnJlc2goYm9keT8sIHF1ZXJ5PykgaXMgZGVwcmVjYXRlZC4gQ29uc2lkZXIgcmVwbGFjaW5nIGl0IHdpdGggYXV0aFJlZnJlc2gob3B0aW9ucz8pLlwiLHMsZSx0KSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL2F1dGgtcmVmcmVzaFwiLHMpLnRoZW4odGhpcy5hdXRoUmVzcG9uc2UuYmluZCh0aGlzKSl9YXN5bmMgcmVxdWVzdFBhc3N3b3JkUmVzZXQoZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7ZW1haWw6ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIHJlcXVlc3RQYXNzd29yZFJlc2V0KGVtYWlsLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCByZXF1ZXN0UGFzc3dvcmRSZXNldChlbWFpbCwgb3B0aW9ucz8pLlwiLGksdCxzKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIixpKS50aGVuKCgoKT0+ITApKX1hc3luYyBjb25maXJtUGFzc3dvcmRSZXNldChlLHQscyxpLG4pe2xldCByPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7dG9rZW46ZSxwYXNzd29yZDp0LHBhc3N3b3JkQ29uZmlybTpzfX07cmV0dXJuIHI9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgY29uZmlybVBhc3N3b3JkUmVzZXQocmVzZXRUb2tlbiwgcGFzc3dvcmQsIHBhc3N3b3JkQ29uZmlybSwgYm9keT8sIHF1ZXJ5PykgaXMgZGVwcmVjYXRlZC4gQ29uc2lkZXIgcmVwbGFjaW5nIGl0IHdpdGggY29uZmlybVBhc3N3b3JkUmVzZXQocmVzZXRUb2tlbiwgcGFzc3dvcmQsIHBhc3N3b3JkQ29uZmlybSwgb3B0aW9ucz8pLlwiLHIsaSxuKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL2NvbmZpcm0tcGFzc3dvcmQtcmVzZXRcIixyKS50aGVuKCgoKT0+ITApKX19Y29uc3QgaT1bXCJyZXF1ZXN0S2V5XCIsXCIkY2FuY2VsS2V5XCIsXCIkYXV0b0NhbmNlbFwiLFwiZmV0Y2hcIixcImhlYWRlcnNcIixcImJvZHlcIixcInF1ZXJ5XCIsXCJwYXJhbXNcIixcImNhY2hlXCIsXCJjcmVkZW50aWFsc1wiLFwiaGVhZGVyc1wiLFwiaW50ZWdyaXR5XCIsXCJrZWVwYWxpdmVcIixcIm1ldGhvZFwiLFwibW9kZVwiLFwicmVkaXJlY3RcIixcInJlZmVycmVyXCIsXCJyZWZlcnJlclBvbGljeVwiLFwic2lnbmFsXCIsXCJ3aW5kb3dcIl07ZnVuY3Rpb24gbm9ybWFsaXplVW5rbm93blF1ZXJ5UGFyYW1zKGUpe2lmKGUpe2UucXVlcnk9ZS5xdWVyeXx8e307Zm9yKGxldCB0IGluIGUpaS5pbmNsdWRlcyh0KXx8KGUucXVlcnlbdF09ZVt0XSxkZWxldGUgZVt0XSl9fWNsYXNzIFJlYWx0aW1lU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNsaWVudElkPVwiXCIsdGhpcy5ldmVudFNvdXJjZT1udWxsLHRoaXMuc3Vic2NyaXB0aW9ucz17fSx0aGlzLmxhc3RTZW50U3Vic2NyaXB0aW9ucz1bXSx0aGlzLm1heENvbm5lY3RUaW1lb3V0PTE1ZTMsdGhpcy5yZWNvbm5lY3RBdHRlbXB0cz0wLHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHM9MS8wLHRoaXMucHJlZGVmaW5lZFJlY29ubmVjdEludGVydmFscz1bMjAwLDMwMCw1MDAsMWUzLDEyMDAsMTUwMCwyZTNdLHRoaXMucGVuZGluZ0Nvbm5lY3RzPVtdfWdldCBpc0Nvbm5lY3RlZCgpe3JldHVybiEhdGhpcy5ldmVudFNvdXJjZSYmISF0aGlzLmNsaWVudElkJiYhdGhpcy5wZW5kaW5nQ29ubmVjdHMubGVuZ3RofWFzeW5jIHN1YnNjcmliZShlLHQscyl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwidG9waWMgbXVzdCBiZSBzZXQuXCIpO2xldCBpPWU7aWYocyl7bm9ybWFsaXplVW5rbm93blF1ZXJ5UGFyYW1zKHMpO2NvbnN0IGU9XCJvcHRpb25zPVwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7cXVlcnk6cy5xdWVyeSxoZWFkZXJzOnMuaGVhZGVyc30pKTtpKz0oaS5pbmNsdWRlcyhcIj9cIik/XCImXCI6XCI/XCIpK2V9Y29uc3QgbGlzdGVuZXI9ZnVuY3Rpb24oZSl7Y29uc3Qgcz1lO2xldCBpO3RyeXtpPUpTT04ucGFyc2Uocz8uZGF0YSl9Y2F0Y2h7fXQoaXx8e30pfTtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zW2ldfHwodGhpcy5zdWJzY3JpcHRpb25zW2ldPVtdKSx0aGlzLnN1YnNjcmlwdGlvbnNbaV0ucHVzaChsaXN0ZW5lciksdGhpcy5pc0Nvbm5lY3RlZD8xPT09dGhpcy5zdWJzY3JpcHRpb25zW2ldLmxlbmd0aD9hd2FpdCB0aGlzLnN1Ym1pdFN1YnNjcmlwdGlvbnMoKTp0aGlzLmV2ZW50U291cmNlPy5hZGRFdmVudExpc3RlbmVyKGksbGlzdGVuZXIpOmF3YWl0IHRoaXMuY29ubmVjdCgpLGFzeW5jKCk9PnRoaXMudW5zdWJzY3JpYmVCeVRvcGljQW5kTGlzdGVuZXIoZSxsaXN0ZW5lcil9YXN5bmMgdW5zdWJzY3JpYmUoZSl7bGV0IHQ9ITE7aWYoZSl7Y29uc3Qgcz10aGlzLmdldFN1YnNjcmlwdGlvbnNCeVRvcGljKGUpO2ZvcihsZXQgZSBpbiBzKWlmKHRoaXMuaGFzU3Vic2NyaXB0aW9uTGlzdGVuZXJzKGUpKXtmb3IobGV0IHQgb2YgdGhpcy5zdWJzY3JpcHRpb25zW2VdKXRoaXMuZXZlbnRTb3VyY2U/LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KTtkZWxldGUgdGhpcy5zdWJzY3JpcHRpb25zW2VdLHR8fCh0PSEwKX19ZWxzZSB0aGlzLnN1YnNjcmlwdGlvbnM9e307dGhpcy5oYXNTdWJzY3JpcHRpb25MaXN0ZW5lcnMoKT90JiZhd2FpdCB0aGlzLnN1Ym1pdFN1YnNjcmlwdGlvbnMoKTp0aGlzLmRpc2Nvbm5lY3QoKX1hc3luYyB1bnN1YnNjcmliZUJ5UHJlZml4KGUpe2xldCB0PSExO2ZvcihsZXQgcyBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpaWYoKHMrXCI/XCIpLnN0YXJ0c1dpdGgoZSkpe3Q9ITA7Zm9yKGxldCBlIG9mIHRoaXMuc3Vic2NyaXB0aW9uc1tzXSl0aGlzLmV2ZW50U291cmNlPy5yZW1vdmVFdmVudExpc3RlbmVyKHMsZSk7ZGVsZXRlIHRoaXMuc3Vic2NyaXB0aW9uc1tzXX10JiYodGhpcy5oYXNTdWJzY3JpcHRpb25MaXN0ZW5lcnMoKT9hd2FpdCB0aGlzLnN1Ym1pdFN1YnNjcmlwdGlvbnMoKTp0aGlzLmRpc2Nvbm5lY3QoKSl9YXN5bmMgdW5zdWJzY3JpYmVCeVRvcGljQW5kTGlzdGVuZXIoZSx0KXtsZXQgcz0hMTtjb25zdCBpPXRoaXMuZ2V0U3Vic2NyaXB0aW9uc0J5VG9waWMoZSk7Zm9yKGxldCBlIGluIGkpe2lmKCFBcnJheS5pc0FycmF5KHRoaXMuc3Vic2NyaXB0aW9uc1tlXSl8fCF0aGlzLnN1YnNjcmlwdGlvbnNbZV0ubGVuZ3RoKWNvbnRpbnVlO2xldCBpPSExO2ZvcihsZXQgcz10aGlzLnN1YnNjcmlwdGlvbnNbZV0ubGVuZ3RoLTE7cz49MDtzLS0pdGhpcy5zdWJzY3JpcHRpb25zW2VdW3NdPT09dCYmKGk9ITAsZGVsZXRlIHRoaXMuc3Vic2NyaXB0aW9uc1tlXVtzXSx0aGlzLnN1YnNjcmlwdGlvbnNbZV0uc3BsaWNlKHMsMSksdGhpcy5ldmVudFNvdXJjZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpKTtpJiYodGhpcy5zdWJzY3JpcHRpb25zW2VdLmxlbmd0aHx8ZGVsZXRlIHRoaXMuc3Vic2NyaXB0aW9uc1tlXSxzfHx0aGlzLmhhc1N1YnNjcmlwdGlvbkxpc3RlbmVycyhlKXx8KHM9ITApKX10aGlzLmhhc1N1YnNjcmlwdGlvbkxpc3RlbmVycygpP3MmJmF3YWl0IHRoaXMuc3VibWl0U3Vic2NyaXB0aW9ucygpOnRoaXMuZGlzY29ubmVjdCgpfWhhc1N1YnNjcmlwdGlvbkxpc3RlbmVycyhlKXtpZih0aGlzLnN1YnNjcmlwdGlvbnM9dGhpcy5zdWJzY3JpcHRpb25zfHx7fSxlKXJldHVybiEhdGhpcy5zdWJzY3JpcHRpb25zW2VdPy5sZW5ndGg7Zm9yKGxldCBlIGluIHRoaXMuc3Vic2NyaXB0aW9ucylpZih0aGlzLnN1YnNjcmlwdGlvbnNbZV0/Lmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hMX1hc3luYyBzdWJtaXRTdWJzY3JpcHRpb25zKCl7aWYodGhpcy5jbGllbnRJZClyZXR1cm4gdGhpcy5hZGRBbGxTdWJzY3JpcHRpb25MaXN0ZW5lcnMoKSx0aGlzLmxhc3RTZW50U3Vic2NyaXB0aW9ucz10aGlzLmdldE5vbkVtcHR5U3Vic2NyaXB0aW9uS2V5cygpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL3JlYWx0aW1lXCIse21ldGhvZDpcIlBPU1RcIixib2R5OntjbGllbnRJZDp0aGlzLmNsaWVudElkLHN1YnNjcmlwdGlvbnM6dGhpcy5sYXN0U2VudFN1YnNjcmlwdGlvbnN9LHJlcXVlc3RLZXk6dGhpcy5nZXRTdWJzY3JpcHRpb25zQ2FuY2VsS2V5KCl9KS5jYXRjaCgoZT0+e2lmKCFlPy5pc0Fib3J0KXRocm93IGV9KSl9Z2V0U3Vic2NyaXB0aW9uc0NhbmNlbEtleSgpe3JldHVyblwicmVhbHRpbWVfXCIrdGhpcy5jbGllbnRJZH1nZXRTdWJzY3JpcHRpb25zQnlUb3BpYyhlKXtjb25zdCB0PXt9O2U9ZS5pbmNsdWRlcyhcIj9cIik/ZTplK1wiP1wiO2ZvcihsZXQgcyBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpKHMrXCI/XCIpLnN0YXJ0c1dpdGgoZSkmJih0W3NdPXRoaXMuc3Vic2NyaXB0aW9uc1tzXSk7cmV0dXJuIHR9Z2V0Tm9uRW1wdHlTdWJzY3JpcHRpb25LZXlzKCl7Y29uc3QgZT1bXTtmb3IobGV0IHQgaW4gdGhpcy5zdWJzY3JpcHRpb25zKXRoaXMuc3Vic2NyaXB0aW9uc1t0XS5sZW5ndGgmJmUucHVzaCh0KTtyZXR1cm4gZX1hZGRBbGxTdWJzY3JpcHRpb25MaXN0ZW5lcnMoKXtpZih0aGlzLmV2ZW50U291cmNlKXt0aGlzLnJlbW92ZUFsbFN1YnNjcmlwdGlvbkxpc3RlbmVycygpO2ZvcihsZXQgZSBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpZm9yKGxldCB0IG9mIHRoaXMuc3Vic2NyaXB0aW9uc1tlXSl0aGlzLmV2ZW50U291cmNlLmFkZEV2ZW50TGlzdGVuZXIoZSx0KX19cmVtb3ZlQWxsU3Vic2NyaXB0aW9uTGlzdGVuZXJzKCl7aWYodGhpcy5ldmVudFNvdXJjZSlmb3IobGV0IGUgaW4gdGhpcy5zdWJzY3JpcHRpb25zKWZvcihsZXQgdCBvZiB0aGlzLnN1YnNjcmlwdGlvbnNbZV0pdGhpcy5ldmVudFNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl9YXN5bmMgY29ubmVjdCgpe2lmKCEodGhpcy5yZWNvbm5lY3RBdHRlbXB0cz4wKSlyZXR1cm4gbmV3IFByb21pc2UoKChlLHQpPT57dGhpcy5wZW5kaW5nQ29ubmVjdHMucHVzaCh7cmVzb2x2ZTplLHJlamVjdDp0fSksdGhpcy5wZW5kaW5nQ29ubmVjdHMubGVuZ3RoPjF8fHRoaXMuaW5pdENvbm5lY3QoKX0pKX1pbml0Q29ubmVjdCgpe3RoaXMuZGlzY29ubmVjdCghMCksY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdFRpbWVvdXRJZCksdGhpcy5jb25uZWN0VGltZW91dElkPXNldFRpbWVvdXQoKCgpPT57dGhpcy5jb25uZWN0RXJyb3JIYW5kbGVyKG5ldyBFcnJvcihcIkV2ZW50U291cmNlIGNvbm5lY3QgdG9vayB0b28gbG9uZy5cIikpfSksdGhpcy5tYXhDb25uZWN0VGltZW91dCksdGhpcy5ldmVudFNvdXJjZT1uZXcgRXZlbnRTb3VyY2UodGhpcy5jbGllbnQuYnVpbGRVcmwoXCIvYXBpL3JlYWx0aW1lXCIpKSx0aGlzLmV2ZW50U291cmNlLm9uZXJyb3I9ZT0+e3RoaXMuY29ubmVjdEVycm9ySGFuZGxlcihuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZXN0YWJsaXNoIHJlYWx0aW1lIGNvbm5lY3Rpb24uXCIpKX0sdGhpcy5ldmVudFNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiUEJfQ09OTkVDVFwiLChlPT57Y29uc3QgdD1lO3RoaXMuY2xpZW50SWQ9dD8ubGFzdEV2ZW50SWQsdGhpcy5zdWJtaXRTdWJzY3JpcHRpb25zKCkudGhlbigoYXN5bmMoKT0+e2xldCBlPTM7Zm9yKDt0aGlzLmhhc1Vuc2VudFN1YnNjcmlwdGlvbnMoKSYmZT4wOyllLS0sYXdhaXQgdGhpcy5zdWJtaXRTdWJzY3JpcHRpb25zKCl9KSkudGhlbigoKCk9Pntmb3IobGV0IGUgb2YgdGhpcy5wZW5kaW5nQ29ubmVjdHMpZS5yZXNvbHZlKCk7dGhpcy5wZW5kaW5nQ29ubmVjdHM9W10sdGhpcy5yZWNvbm5lY3RBdHRlbXB0cz0wLGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXRJZCksY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdFRpbWVvdXRJZCk7Y29uc3QgdD10aGlzLmdldFN1YnNjcmlwdGlvbnNCeVRvcGljKFwiUEJfQ09OTkVDVFwiKTtmb3IobGV0IHMgaW4gdClmb3IobGV0IGkgb2YgdFtzXSlpKGUpfSkpLmNhdGNoKChlPT57dGhpcy5jbGllbnRJZD1cIlwiLHRoaXMuY29ubmVjdEVycm9ySGFuZGxlcihlKX0pKX0pKX1oYXNVbnNlbnRTdWJzY3JpcHRpb25zKCl7Y29uc3QgZT10aGlzLmdldE5vbkVtcHR5U3Vic2NyaXB0aW9uS2V5cygpO2lmKGUubGVuZ3RoIT10aGlzLmxhc3RTZW50U3Vic2NyaXB0aW9ucy5sZW5ndGgpcmV0dXJuITA7Zm9yKGNvbnN0IHQgb2YgZSlpZighdGhpcy5sYXN0U2VudFN1YnNjcmlwdGlvbnMuaW5jbHVkZXModCkpcmV0dXJuITA7cmV0dXJuITF9Y29ubmVjdEVycm9ySGFuZGxlcihlKXtpZihjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0VGltZW91dElkKSxjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0SWQpLCF0aGlzLmNsaWVudElkJiYhdGhpcy5yZWNvbm5lY3RBdHRlbXB0c3x8dGhpcy5yZWNvbm5lY3RBdHRlbXB0cz50aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKXtmb3IobGV0IHQgb2YgdGhpcy5wZW5kaW5nQ29ubmVjdHMpdC5yZWplY3QobmV3IENsaWVudFJlc3BvbnNlRXJyb3IoZSkpO3JldHVybiB0aGlzLnBlbmRpbmdDb25uZWN0cz1bXSx2b2lkIHRoaXMuZGlzY29ubmVjdCgpfXRoaXMuZGlzY29ubmVjdCghMCk7Y29uc3QgdD10aGlzLnByZWRlZmluZWRSZWNvbm5lY3RJbnRlcnZhbHNbdGhpcy5yZWNvbm5lY3RBdHRlbXB0c118fHRoaXMucHJlZGVmaW5lZFJlY29ubmVjdEludGVydmFsc1t0aGlzLnByZWRlZmluZWRSZWNvbm5lY3RJbnRlcnZhbHMubGVuZ3RoLTFdO3RoaXMucmVjb25uZWN0QXR0ZW1wdHMrKyx0aGlzLnJlY29ubmVjdFRpbWVvdXRJZD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuaW5pdENvbm5lY3QoKX0pLHQpfWRpc2Nvbm5lY3QoZT0hMSl7aWYoY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdFRpbWVvdXRJZCksY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZW91dElkKSx0aGlzLnJlbW92ZUFsbFN1YnNjcmlwdGlvbkxpc3RlbmVycygpLHRoaXMuY2xpZW50LmNhbmNlbFJlcXVlc3QodGhpcy5nZXRTdWJzY3JpcHRpb25zQ2FuY2VsS2V5KCkpLHRoaXMuZXZlbnRTb3VyY2U/LmNsb3NlKCksdGhpcy5ldmVudFNvdXJjZT1udWxsLHRoaXMuY2xpZW50SWQ9XCJcIiwhZSl7dGhpcy5yZWNvbm5lY3RBdHRlbXB0cz0wO2ZvcihsZXQgZSBvZiB0aGlzLnBlbmRpbmdDb25uZWN0cyllLnJlc29sdmUoKTt0aGlzLnBlbmRpbmdDb25uZWN0cz1bXX19fWNsYXNzIFJlY29yZFNlcnZpY2UgZXh0ZW5kcyBDcnVkU2VydmljZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuY29sbGVjdGlvbklkT3JOYW1lPXR9Z2V0IGJhc2VDcnVkUGF0aCgpe3JldHVybiB0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9yZWNvcmRzXCJ9Z2V0IGJhc2VDb2xsZWN0aW9uUGF0aCgpe3JldHVyblwiL2FwaS9jb2xsZWN0aW9ucy9cIitlbmNvZGVVUklDb21wb25lbnQodGhpcy5jb2xsZWN0aW9uSWRPck5hbWUpfWFzeW5jIHN1YnNjcmliZShlLHQscyl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyB0b3BpYy5cIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzdWJzY3JpcHRpb24gY2FsbGJhY2suXCIpO3JldHVybiB0aGlzLmNsaWVudC5yZWFsdGltZS5zdWJzY3JpYmUodGhpcy5jb2xsZWN0aW9uSWRPck5hbWUrXCIvXCIrZSx0LHMpfWFzeW5jIHVuc3Vic2NyaWJlKGUpe3JldHVybiBlP3RoaXMuY2xpZW50LnJlYWx0aW1lLnVuc3Vic2NyaWJlKHRoaXMuY29sbGVjdGlvbklkT3JOYW1lK1wiL1wiK2UpOnRoaXMuY2xpZW50LnJlYWx0aW1lLnVuc3Vic2NyaWJlQnlQcmVmaXgodGhpcy5jb2xsZWN0aW9uSWRPck5hbWUpfWFzeW5jIGdldEZ1bGxMaXN0KGUsdCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIHN1cGVyLmdldEZ1bGxMaXN0KGUsdCk7Y29uc3Qgcz1PYmplY3QuYXNzaWduKHt9LGUsdCk7cmV0dXJuIHN1cGVyLmdldEZ1bGxMaXN0KHMpfWFzeW5jIGdldExpc3QoZT0xLHQ9MzAscyl7cmV0dXJuIHN1cGVyLmdldExpc3QoZSx0LHMpfWFzeW5jIGdldEZpcnN0TGlzdEl0ZW0oZSx0KXtyZXR1cm4gc3VwZXIuZ2V0Rmlyc3RMaXN0SXRlbShlLHQpfWFzeW5jIGdldE9uZShlLHQpe3JldHVybiBzdXBlci5nZXRPbmUoZSx0KX1hc3luYyBjcmVhdGUoZSx0KXtyZXR1cm4gc3VwZXIuY3JlYXRlKGUsdCl9YXN5bmMgdXBkYXRlKGUsdCxzKXtyZXR1cm4gc3VwZXIudXBkYXRlKGUsdCxzKS50aGVuKChlPT4odGhpcy5jbGllbnQuYXV0aFN0b3JlLm1vZGVsPy5pZCE9PWU/LmlkfHx0aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmNvbGxlY3Rpb25JZCE9PXRoaXMuY29sbGVjdGlvbklkT3JOYW1lJiZ0aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmNvbGxlY3Rpb25OYW1lIT09dGhpcy5jb2xsZWN0aW9uSWRPck5hbWV8fHRoaXMuY2xpZW50LmF1dGhTdG9yZS5zYXZlKHRoaXMuY2xpZW50LmF1dGhTdG9yZS50b2tlbixlKSxlKSkpfWFzeW5jIGRlbGV0ZShlLHQpe3JldHVybiBzdXBlci5kZWxldGUoZSx0KS50aGVuKCh0PT4oIXR8fHRoaXMuY2xpZW50LmF1dGhTdG9yZS5tb2RlbD8uaWQhPT1lfHx0aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmNvbGxlY3Rpb25JZCE9PXRoaXMuY29sbGVjdGlvbklkT3JOYW1lJiZ0aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmNvbGxlY3Rpb25OYW1lIT09dGhpcy5jb2xsZWN0aW9uSWRPck5hbWV8fHRoaXMuY2xpZW50LmF1dGhTdG9yZS5jbGVhcigpLHQpKSl9YXV0aFJlc3BvbnNlKGUpe2NvbnN0IHQ9dGhpcy5kZWNvZGUoZT8ucmVjb3JkfHx7fSk7cmV0dXJuIHRoaXMuY2xpZW50LmF1dGhTdG9yZS5zYXZlKGU/LnRva2VuLHQpLE9iamVjdC5hc3NpZ24oe30sZSx7dG9rZW46ZT8udG9rZW58fFwiXCIscmVjb3JkOnR9KX1hc3luYyBsaXN0QXV0aE1ldGhvZHMoZSl7cmV0dXJuIGU9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LGUpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ29sbGVjdGlvblBhdGgrXCIvYXV0aC1tZXRob2RzXCIsZSkudGhlbigoZT0+T2JqZWN0LmFzc2lnbih7fSxlLHt1c2VybmFtZVBhc3N3b3JkOiEhZT8udXNlcm5hbWVQYXNzd29yZCxlbWFpbFBhc3N3b3JkOiEhZT8uZW1haWxQYXNzd29yZCxhdXRoUHJvdmlkZXJzOkFycmF5LmlzQXJyYXkoZT8uYXV0aFByb3ZpZGVycyk/ZT8uYXV0aFByb3ZpZGVyczpbXX0pKSl9YXN5bmMgYXV0aFdpdGhQYXNzd29yZChlLHQscyxpKXtsZXQgbj17bWV0aG9kOlwiUE9TVFwiLGJvZHk6e2lkZW50aXR5OmUscGFzc3dvcmQ6dH19O3JldHVybiBuPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIGF1dGhXaXRoUGFzc3dvcmQodXNlcm5hbWVPckVtYWlsLCBwYXNzLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCBhdXRoV2l0aFBhc3N3b3JkKHVzZXJuYW1lT3JFbWFpbCwgcGFzcywgb3B0aW9ucz8pLlwiLG4scyxpKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNvbGxlY3Rpb25QYXRoK1wiL2F1dGgtd2l0aC1wYXNzd29yZFwiLG4pLnRoZW4oKGU9PnRoaXMuYXV0aFJlc3BvbnNlKGUpKSl9YXN5bmMgYXV0aFdpdGhPQXV0aDJDb2RlKGUsdCxzLGksbixyLG8pe2xldCBhPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7cHJvdmlkZXI6ZSxjb2RlOnQsY29kZVZlcmlmaWVyOnMscmVkaXJlY3RVcmw6aSxjcmVhdGVEYXRhOm59fTtyZXR1cm4gYT1ub3JtYWxpemVMZWdhY3lPcHRpb25zQXJncyhcIlRoaXMgZm9ybSBvZiBhdXRoV2l0aE9BdXRoMkNvZGUocHJvdmlkZXIsIGNvZGUsIGNvZGVWZXJpZmllciwgcmVkaXJlY3RVcmwsIGNyZWF0ZURhdGE/LCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCBhdXRoV2l0aE9BdXRoMkNvZGUocHJvdmlkZXIsIGNvZGUsIGNvZGVWZXJpZmllciwgcmVkaXJlY3RVcmwsIGNyZWF0ZURhdGE/LCBvcHRpb25zPykuXCIsYSxyLG8pLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ29sbGVjdGlvblBhdGgrXCIvYXV0aC13aXRoLW9hdXRoMlwiLGEpLnRoZW4oKGU9PnRoaXMuYXV0aFJlc3BvbnNlKGUpKSl9YXN5bmMgYXV0aFdpdGhPQXV0aDIoLi4uZSl7aWYoZS5sZW5ndGg+MXx8XCJzdHJpbmdcIj09dHlwZW9mIGU/LlswXSlyZXR1cm4gY29uc29sZS53YXJuKFwiUG9ja2V0QmFzZTogVGhpcyBmb3JtIG9mIGF1dGhXaXRoT0F1dGgyKCkgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGdldCByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFBsZWFzZSByZXBsYWNlIHdpdGggYXV0aFdpdGhPQXV0aDJDb2RlKCkgT1IgdXNlIHRoZSBhdXRoV2l0aE9BdXRoMigpIHJlYWx0aW1lIGZvcm0gYXMgc2hvd24gaW4gaHR0cHM6Ly9wb2NrZXRiYXNlLmlvL2RvY3MvYXV0aGVudGljYXRpb24vI29hdXRoMi1pbnRlZ3JhdGlvbi5cIiksdGhpcy5hdXRoV2l0aE9BdXRoMkNvZGUoZT8uWzBdfHxcIlwiLGU/LlsxXXx8XCJcIixlPy5bMl18fFwiXCIsZT8uWzNdfHxcIlwiLGU/Lls0XXx8e30sZT8uWzVdfHx7fSxlPy5bNl18fHt9KTtjb25zdCB0PWU/LlswXXx8e30scz0oYXdhaXQgdGhpcy5saXN0QXV0aE1ldGhvZHMoKSkuYXV0aFByb3ZpZGVycy5maW5kKChlPT5lLm5hbWU9PT10LnByb3ZpZGVyKSk7aWYoIXMpdGhyb3cgbmV3IENsaWVudFJlc3BvbnNlRXJyb3IobmV3IEVycm9yKGBNaXNzaW5nIG9yIGludmFsaWQgcHJvdmlkZXIgXCIke3QucHJvdmlkZXJ9XCIuYCkpO2NvbnN0IGk9dGhpcy5jbGllbnQuYnVpbGRVcmwoXCIvYXBpL29hdXRoMi1yZWRpcmVjdFwiKSxuPW5ldyBSZWFsdGltZVNlcnZpY2UodGhpcy5jbGllbnQpO2xldCByPW51bGw7ZnVuY3Rpb24gY2xlYW51cCgpe3I/LmNsb3NlKCksbi51bnN1YnNjcmliZSgpfXJldHVybiB0LnVybENhbGxiYWNrfHwocj1vcGVuQnJvd3NlclBvcHVwKHZvaWQgMCkpLG5ldyBQcm9taXNlKChhc3luYyhlLG8pPT57dHJ5e2F3YWl0IG4uc3Vic2NyaWJlKFwiQG9hdXRoMlwiLChhc3luYyByPT57Y29uc3QgYT1uLmNsaWVudElkO3RyeXtpZighci5zdGF0ZXx8YSE9PXIuc3RhdGUpdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgcGFyYW1ldGVycyBkb24ndCBtYXRjaC5cIik7aWYoci5lcnJvcnx8IXIuY29kZSl0aHJvdyBuZXcgRXJyb3IoXCJPQXV0aDIgcmVkaXJlY3QgZXJyb3Igb3IgbWlzc2luZyBjb2RlOiBcIityLmVycm9yKTtjb25zdCBuPU9iamVjdC5hc3NpZ24oe30sdCk7ZGVsZXRlIG4ucHJvdmlkZXIsZGVsZXRlIG4uc2NvcGVzLGRlbGV0ZSBuLmNyZWF0ZURhdGEsZGVsZXRlIG4udXJsQ2FsbGJhY2s7Y29uc3Qgbz1hd2FpdCB0aGlzLmF1dGhXaXRoT0F1dGgyQ29kZShzLm5hbWUsci5jb2RlLHMuY29kZVZlcmlmaWVyLGksdC5jcmVhdGVEYXRhLG4pO2Uobyl9Y2F0Y2goZSl7byhuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcihlKSl9Y2xlYW51cCgpfSkpO2NvbnN0IGE9e3N0YXRlOm4uY2xpZW50SWR9O3Quc2NvcGVzPy5sZW5ndGgmJihhLnNjb3BlPXQuc2NvcGVzLmpvaW4oXCIgXCIpKTtjb25zdCBjPXRoaXMuX3JlcGxhY2VRdWVyeVBhcmFtcyhzLmF1dGhVcmwraSxhKTtsZXQgbD10LnVybENhbGxiYWNrfHxmdW5jdGlvbihlKXtyP3IubG9jYXRpb24uaHJlZj1lOnI9b3BlbkJyb3dzZXJQb3B1cChlKX07YXdhaXQgbChjKX1jYXRjaChlKXtjbGVhbnVwKCksbyhuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcihlKSl9fSkpfWFzeW5jIGF1dGhSZWZyZXNoKGUsdCl7bGV0IHM9e21ldGhvZDpcIlBPU1RcIn07cmV0dXJuIHM9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgYXV0aFJlZnJlc2goYm9keT8sIHF1ZXJ5PykgaXMgZGVwcmVjYXRlZC4gQ29uc2lkZXIgcmVwbGFjaW5nIGl0IHdpdGggYXV0aFJlZnJlc2gob3B0aW9ucz8pLlwiLHMsZSx0KSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNvbGxlY3Rpb25QYXRoK1wiL2F1dGgtcmVmcmVzaFwiLHMpLnRoZW4oKGU9PnRoaXMuYXV0aFJlc3BvbnNlKGUpKSl9YXN5bmMgcmVxdWVzdFBhc3N3b3JkUmVzZXQoZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7ZW1haWw6ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIHJlcXVlc3RQYXNzd29yZFJlc2V0KGVtYWlsLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCByZXF1ZXN0UGFzc3dvcmRSZXNldChlbWFpbCwgb3B0aW9ucz8pLlwiLGksdCxzKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNvbGxlY3Rpb25QYXRoK1wiL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIixpKS50aGVuKCgoKT0+ITApKX1hc3luYyBjb25maXJtUGFzc3dvcmRSZXNldChlLHQscyxpLG4pe2xldCByPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7dG9rZW46ZSxwYXNzd29yZDp0LHBhc3N3b3JkQ29uZmlybTpzfX07cmV0dXJuIHI9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgY29uZmlybVBhc3N3b3JkUmVzZXQodG9rZW4sIHBhc3N3b3JkLCBwYXNzd29yZENvbmZpcm0sIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGNvbmZpcm1QYXNzd29yZFJlc2V0KHRva2VuLCBwYXNzd29yZCwgcGFzc3dvcmRDb25maXJtLCBvcHRpb25zPykuXCIscixpLG4pLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ29sbGVjdGlvblBhdGgrXCIvY29uZmlybS1wYXNzd29yZC1yZXNldFwiLHIpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIHJlcXVlc3RWZXJpZmljYXRpb24oZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7ZW1haWw6ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIHJlcXVlc3RWZXJpZmljYXRpb24oZW1haWwsIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIHJlcXVlc3RWZXJpZmljYXRpb24oZW1haWwsIG9wdGlvbnM/KS5cIixpLHQscyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9yZXF1ZXN0LXZlcmlmaWNhdGlvblwiLGkpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIGNvbmZpcm1WZXJpZmljYXRpb24oZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7dG9rZW46ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIGNvbmZpcm1WZXJpZmljYXRpb24odG9rZW4sIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGNvbmZpcm1WZXJpZmljYXRpb24odG9rZW4sIG9wdGlvbnM/KS5cIixpLHQscyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9jb25maXJtLXZlcmlmaWNhdGlvblwiLGkpLnRoZW4oKCgpPT57Y29uc3QgdD1nZXRUb2tlblBheWxvYWQoZSkscz10aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw7cmV0dXJuIHMmJiFzLnZlcmlmaWVkJiZzLmlkPT09dC5pZCYmcy5jb2xsZWN0aW9uSWQ9PT10LmNvbGxlY3Rpb25JZCYmKHMudmVyaWZpZWQ9ITAsdGhpcy5jbGllbnQuYXV0aFN0b3JlLnNhdmUodGhpcy5jbGllbnQuYXV0aFN0b3JlLnRva2VuLHMpKSwhMH0pKX1hc3luYyByZXF1ZXN0RW1haWxDaGFuZ2UoZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7bmV3RW1haWw6ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIHJlcXVlc3RFbWFpbENoYW5nZShuZXdFbWFpbCwgYm9keT8sIHF1ZXJ5PykgaXMgZGVwcmVjYXRlZC4gQ29uc2lkZXIgcmVwbGFjaW5nIGl0IHdpdGggcmVxdWVzdEVtYWlsQ2hhbmdlKG5ld0VtYWlsLCBvcHRpb25zPykuXCIsaSx0LHMpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ29sbGVjdGlvblBhdGgrXCIvcmVxdWVzdC1lbWFpbC1jaGFuZ2VcIixpKS50aGVuKCgoKT0+ITApKX1hc3luYyBjb25maXJtRW1haWxDaGFuZ2UoZSx0LHMsaSl7bGV0IG49e21ldGhvZDpcIlBPU1RcIixib2R5Ont0b2tlbjplLHBhc3N3b3JkOnR9fTtyZXR1cm4gbj1ub3JtYWxpemVMZWdhY3lPcHRpb25zQXJncyhcIlRoaXMgZm9ybSBvZiBjb25maXJtRW1haWxDaGFuZ2UodG9rZW4sIHBhc3N3b3JkLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCBjb25maXJtRW1haWxDaGFuZ2UodG9rZW4sIHBhc3N3b3JkLCBvcHRpb25zPykuXCIsbixzLGkpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ29sbGVjdGlvblBhdGgrXCIvY29uZmlybS1lbWFpbC1jaGFuZ2VcIixuKS50aGVuKCgoKT0+e2NvbnN0IHQ9Z2V0VG9rZW5QYXlsb2FkKGUpLHM9dGhpcy5jbGllbnQuYXV0aFN0b3JlLm1vZGVsO3JldHVybiBzJiZzLmlkPT09dC5pZCYmcy5jb2xsZWN0aW9uSWQ9PT10LmNvbGxlY3Rpb25JZCYmdGhpcy5jbGllbnQuYXV0aFN0b3JlLmNsZWFyKCksITB9KSl9YXN5bmMgbGlzdEV4dGVybmFsQXV0aHMoZSx0KXtyZXR1cm4gdD1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJHRVRcIn0sdCksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDcnVkUGF0aCtcIi9cIitlbmNvZGVVUklDb21wb25lbnQoZSkrXCIvZXh0ZXJuYWwtYXV0aHNcIix0KX1hc3luYyB1bmxpbmtFeHRlcm5hbEF1dGgoZSx0LHMpe3JldHVybiBzPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkRFTEVURVwifSxzKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL1wiK2VuY29kZVVSSUNvbXBvbmVudChlKStcIi9leHRlcm5hbC1hdXRocy9cIitlbmNvZGVVUklDb21wb25lbnQodCkscykudGhlbigoKCk9PiEwKSl9X3JlcGxhY2VRdWVyeVBhcmFtcyhlLHQ9e30pe2xldCBzPWUsaT1cIlwiO2UuaW5kZXhPZihcIj9cIik+PTAmJihzPWUuc3Vic3RyaW5nKDAsZS5pbmRleE9mKFwiP1wiKSksaT1lLnN1YnN0cmluZyhlLmluZGV4T2YoXCI/XCIpKzEpKTtjb25zdCBuPXt9LHI9aS5zcGxpdChcIiZcIik7Zm9yKGNvbnN0IGUgb2Ygcil7aWYoXCJcIj09ZSljb250aW51ZTtjb25zdCB0PWUuc3BsaXQoXCI9XCIpO25bZGVjb2RlVVJJQ29tcG9uZW50KHRbMF0ucmVwbGFjZSgvXFwrL2csXCIgXCIpKV09ZGVjb2RlVVJJQ29tcG9uZW50KCh0WzFdfHxcIlwiKS5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWZvcihsZXQgZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJihudWxsPT10W2VdP2RlbGV0ZSBuW2VdOm5bZV09dFtlXSk7aT1cIlwiO2ZvcihsZXQgZSBpbiBuKW4uaGFzT3duUHJvcGVydHkoZSkmJihcIlwiIT1pJiYoaSs9XCImXCIpLGkrPWVuY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoLyUyMC9nLFwiK1wiKSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG5bZV0ucmVwbGFjZSgvJTIwL2csXCIrXCIpKSk7cmV0dXJuXCJcIiE9aT9zK1wiP1wiK2k6c319ZnVuY3Rpb24gb3BlbkJyb3dzZXJQb3B1cChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHwhd2luZG93Py5vcGVuKXRocm93IG5ldyBDbGllbnRSZXNwb25zZUVycm9yKG5ldyBFcnJvcihcIk5vdCBpbiBhIGJyb3dzZXIgY29udGV4dCAtIHBsZWFzZSBwYXNzIGEgY3VzdG9tIHVybENhbGxiYWNrIGZ1bmN0aW9uLlwiKSk7bGV0IHQ9MTAyNCxzPTc2OCxpPXdpbmRvdy5pbm5lcldpZHRoLG49d2luZG93LmlubmVySGVpZ2h0O3Q9dD5pP2k6dCxzPXM+bj9uOnM7bGV0IHI9aS8yLXQvMixvPW4vMi1zLzI7cmV0dXJuIHdpbmRvdy5vcGVuKGUsXCJwb3B1cF93aW5kb3dcIixcIndpZHRoPVwiK3QrXCIsaGVpZ2h0PVwiK3MrXCIsdG9wPVwiK28rXCIsbGVmdD1cIityK1wiLHJlc2l6YWJsZSxtZW51YmFyPW5vXCIpfWNsYXNzIENvbGxlY3Rpb25TZXJ2aWNlIGV4dGVuZHMgQ3J1ZFNlcnZpY2V7Z2V0IGJhc2VDcnVkUGF0aCgpe3JldHVyblwiL2FwaS9jb2xsZWN0aW9uc1wifWFzeW5jIGltcG9ydChlLHQ9ITEscyl7cmV0dXJuIHM9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUFVUXCIsYm9keTp7Y29sbGVjdGlvbnM6ZSxkZWxldGVNaXNzaW5nOnR9fSxzKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoK1wiL2ltcG9ydFwiLHMpLnRoZW4oKCgpPT4hMCkpfX1jbGFzcyBMb2dTZXJ2aWNlIGV4dGVuZHMgQmFzZVNlcnZpY2V7YXN5bmMgZ2V0TGlzdChlPTEsdD0zMCxzKXtyZXR1cm4ocz1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJHRVRcIn0scykpLnF1ZXJ5PU9iamVjdC5hc3NpZ24oe3BhZ2U6ZSxwZXJQYWdlOnR9LHMucXVlcnkpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL2xvZ3NcIixzKX1hc3luYyBnZXRPbmUoZSx0KXtpZighZSl0aHJvdyBuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcih7dXJsOnRoaXMuY2xpZW50LmJ1aWxkVXJsKFwiL2FwaS9sb2dzL1wiKSxzdGF0dXM6NDA0LHJlc3BvbnNlOntjb2RlOjQwNCxtZXNzYWdlOlwiTWlzc2luZyByZXF1aXJlZCBsb2cgaWQuXCIsZGF0YTp7fX19KTtyZXR1cm4gdD1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJHRVRcIn0sdCksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvbG9ncy9cIitlbmNvZGVVUklDb21wb25lbnQoZSksdCl9YXN5bmMgZ2V0U3RhdHMoZSl7cmV0dXJuIGU9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LGUpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL2xvZ3Mvc3RhdHNcIixlKX19Y2xhc3MgSGVhbHRoU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNle2FzeW5jIGNoZWNrKGUpe3JldHVybiBlPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkdFVFwifSxlKSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9oZWFsdGhcIixlKX19Y2xhc3MgRmlsZVNlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZXtnZXRVcmwoZSx0LHM9e30pe2lmKCF0fHwhZT8uaWR8fCFlPy5jb2xsZWN0aW9uSWQmJiFlPy5jb2xsZWN0aW9uTmFtZSlyZXR1cm5cIlwiO2NvbnN0IGk9W107aS5wdXNoKFwiYXBpXCIpLGkucHVzaChcImZpbGVzXCIpLGkucHVzaChlbmNvZGVVUklDb21wb25lbnQoZS5jb2xsZWN0aW9uSWR8fGUuY29sbGVjdGlvbk5hbWUpKSxpLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGUuaWQpKSxpLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpKTtsZXQgbj10aGlzLmNsaWVudC5idWlsZFVybChpLmpvaW4oXCIvXCIpKTtpZihPYmplY3Qua2V5cyhzKS5sZW5ndGgpeyExPT09cy5kb3dubG9hZCYmZGVsZXRlIHMuZG93bmxvYWQ7Y29uc3QgZT1uZXcgVVJMU2VhcmNoUGFyYW1zKHMpO24rPShuLmluY2x1ZGVzKFwiP1wiKT9cIiZcIjpcIj9cIikrZX1yZXR1cm4gbn1hc3luYyBnZXRUb2tlbihlKXtyZXR1cm4gZT1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJQT1NUXCJ9LGUpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL2ZpbGVzL3Rva2VuXCIsZSkudGhlbigoZT0+ZT8udG9rZW58fFwiXCIpKX19Y2xhc3MgQmFja3VwU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNle2FzeW5jIGdldEZ1bGxMaXN0KGUpe3JldHVybiBlPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkdFVFwifSxlKSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9iYWNrdXBzXCIsZSl9YXN5bmMgY3JlYXRlKGUsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwiLGJvZHk6e25hbWU6ZX19LHQpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL2JhY2t1cHNcIix0KS50aGVuKCgoKT0+ITApKX1hc3luYyB1cGxvYWQoZSx0KXtyZXR1cm4gdD1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJQT1NUXCIsYm9keTplfSx0KSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9iYWNrdXBzL3VwbG9hZFwiLHQpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIGRlbGV0ZShlLHQpe3JldHVybiB0PU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkRFTEVURVwifSx0KSx0aGlzLmNsaWVudC5zZW5kKGAvYXBpL2JhY2t1cHMvJHtlbmNvZGVVUklDb21wb25lbnQoZSl9YCx0KS50aGVuKCgoKT0+ITApKX1hc3luYyByZXN0b3JlKGUsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwifSx0KSx0aGlzLmNsaWVudC5zZW5kKGAvYXBpL2JhY2t1cHMvJHtlbmNvZGVVUklDb21wb25lbnQoZSl9L3Jlc3RvcmVgLHQpLnRoZW4oKCgpPT4hMCkpfWdldERvd25sb2FkVXJsKGUsdCl7cmV0dXJuIHRoaXMuY2xpZW50LmJ1aWxkVXJsKGAvYXBpL2JhY2t1cHMvJHtlbmNvZGVVUklDb21wb25lbnQodCl9P3Rva2VuPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfWApfX1jbGFzcyBDbGllbnR7Y29uc3RydWN0b3IoZT1cIi9cIix0LHM9XCJlbi1VU1wiKXt0aGlzLmNhbmNlbENvbnRyb2xsZXJzPXt9LHRoaXMucmVjb3JkU2VydmljZXM9e30sdGhpcy5lbmFibGVBdXRvQ2FuY2VsbGF0aW9uPSEwLHRoaXMuYmFzZVVybD1lLHRoaXMubGFuZz1zLHRoaXMuYXV0aFN0b3JlPXR8fG5ldyBMb2NhbEF1dGhTdG9yZSx0aGlzLmFkbWlucz1uZXcgQWRtaW5TZXJ2aWNlKHRoaXMpLHRoaXMuY29sbGVjdGlvbnM9bmV3IENvbGxlY3Rpb25TZXJ2aWNlKHRoaXMpLHRoaXMuZmlsZXM9bmV3IEZpbGVTZXJ2aWNlKHRoaXMpLHRoaXMubG9ncz1uZXcgTG9nU2VydmljZSh0aGlzKSx0aGlzLnNldHRpbmdzPW5ldyBTZXR0aW5nc1NlcnZpY2UodGhpcyksdGhpcy5yZWFsdGltZT1uZXcgUmVhbHRpbWVTZXJ2aWNlKHRoaXMpLHRoaXMuaGVhbHRoPW5ldyBIZWFsdGhTZXJ2aWNlKHRoaXMpLHRoaXMuYmFja3Vwcz1uZXcgQmFja3VwU2VydmljZSh0aGlzKX1jb2xsZWN0aW9uKGUpe3JldHVybiB0aGlzLnJlY29yZFNlcnZpY2VzW2VdfHwodGhpcy5yZWNvcmRTZXJ2aWNlc1tlXT1uZXcgUmVjb3JkU2VydmljZSh0aGlzLGUpKSx0aGlzLnJlY29yZFNlcnZpY2VzW2VdfWF1dG9DYW5jZWxsYXRpb24oZSl7cmV0dXJuIHRoaXMuZW5hYmxlQXV0b0NhbmNlbGxhdGlvbj0hIWUsdGhpc31jYW5jZWxSZXF1ZXN0KGUpe3JldHVybiB0aGlzLmNhbmNlbENvbnRyb2xsZXJzW2VdJiYodGhpcy5jYW5jZWxDb250cm9sbGVyc1tlXS5hYm9ydCgpLGRlbGV0ZSB0aGlzLmNhbmNlbENvbnRyb2xsZXJzW2VdKSx0aGlzfWNhbmNlbEFsbFJlcXVlc3RzKCl7Zm9yKGxldCBlIGluIHRoaXMuY2FuY2VsQ29udHJvbGxlcnMpdGhpcy5jYW5jZWxDb250cm9sbGVyc1tlXS5hYm9ydCgpO3JldHVybiB0aGlzLmNhbmNlbENvbnRyb2xsZXJzPXt9LHRoaXN9ZmlsdGVyKGUsdCl7aWYoIXQpcmV0dXJuIGU7Zm9yKGxldCBzIGluIHQpe2xldCBpPXRbc107c3dpdGNoKHR5cGVvZiBpKXtjYXNlXCJib29sZWFuXCI6Y2FzZVwibnVtYmVyXCI6aT1cIlwiK2k7YnJlYWs7Y2FzZVwic3RyaW5nXCI6aT1cIidcIitpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpK1wiJ1wiO2JyZWFrO2RlZmF1bHQ6aT1udWxsPT09aT9cIm51bGxcIjppIGluc3RhbmNlb2YgRGF0ZT9cIidcIitpLnRvSVNPU3RyaW5nKCkucmVwbGFjZShcIlRcIixcIiBcIikrXCInXCI6XCInXCIrSlNPTi5zdHJpbmdpZnkoaSkucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikrXCInXCJ9ZT1lLnJlcGxhY2VBbGwoXCJ7OlwiK3MrXCJ9XCIsaSl9cmV0dXJuIGV9Z2V0RmlsZVVybChlLHQscz17fSl7cmV0dXJuIHRoaXMuZmlsZXMuZ2V0VXJsKGUsdCxzKX1idWlsZFVybChlKXtsZXQgdD10aGlzLmJhc2VVcmw7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5sb2NhdGlvbnx8dC5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIil8fHQuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fCh0PXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4/LmVuZHNXaXRoKFwiL1wiKT93aW5kb3cubG9jYXRpb24ub3JpZ2luLnN1YnN0cmluZygwLHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4ubGVuZ3RoLTEpOndpbmRvdy5sb2NhdGlvbi5vcmlnaW58fFwiXCIsdGhpcy5iYXNlVXJsLnN0YXJ0c1dpdGgoXCIvXCIpfHwodCs9d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfHxcIi9cIix0Kz10LmVuZHNXaXRoKFwiL1wiKT9cIlwiOlwiL1wiKSx0Kz10aGlzLmJhc2VVcmwpLGUmJih0Kz10LmVuZHNXaXRoKFwiL1wiKT9cIlwiOlwiL1wiLHQrPWUuc3RhcnRzV2l0aChcIi9cIik/ZS5zdWJzdHJpbmcoMSk6ZSksdH1hc3luYyBzZW5kKGUsdCl7dD10aGlzLmluaXRTZW5kT3B0aW9ucyhlLHQpO2xldCBzPXRoaXMuYnVpbGRVcmwoZSk7aWYodGhpcy5iZWZvcmVTZW5kKXtjb25zdCBlPU9iamVjdC5hc3NpZ24oe30sYXdhaXQgdGhpcy5iZWZvcmVTZW5kKHMsdCkpO3ZvaWQgMCE9PWUudXJsfHx2b2lkIDAhPT1lLm9wdGlvbnM/KHM9ZS51cmx8fHMsdD1lLm9wdGlvbnN8fHQpOk9iamVjdC5rZXlzKGUpLmxlbmd0aCYmKHQ9ZSxjb25zb2xlPy53YXJuJiZjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkIGZvcm1hdCBvZiBiZWZvcmVTZW5kIHJldHVybjogcGxlYXNlIHVzZSBgcmV0dXJuIHsgdXJsLCBvcHRpb25zIH1gLCBpbnN0ZWFkIG9mIGByZXR1cm4gb3B0aW9uc2AuXCIpKX1pZih2b2lkIDAhPT10LnF1ZXJ5KXtjb25zdCBlPXRoaXMuc2VyaWFsaXplUXVlcnlQYXJhbXModC5xdWVyeSk7ZSYmKHMrPShzLmluY2x1ZGVzKFwiP1wiKT9cIiZcIjpcIj9cIikrZSksZGVsZXRlIHQucXVlcnl9XCJhcHBsaWNhdGlvbi9qc29uXCI9PXRoaXMuZ2V0SGVhZGVyKHQuaGVhZGVycyxcIkNvbnRlbnQtVHlwZVwiKSYmdC5ib2R5JiZcInN0cmluZ1wiIT10eXBlb2YgdC5ib2R5JiYodC5ib2R5PUpTT04uc3RyaW5naWZ5KHQuYm9keSkpO3JldHVybih0LmZldGNofHxmZXRjaCkocyx0KS50aGVuKChhc3luYyBlPT57bGV0IHQ9e307dHJ5e3Q9YXdhaXQgZS5qc29uKCl9Y2F0Y2goZSl7fWlmKHRoaXMuYWZ0ZXJTZW5kJiYodD1hd2FpdCB0aGlzLmFmdGVyU2VuZChlLHQpKSxlLnN0YXR1cz49NDAwKXRocm93IG5ldyBDbGllbnRSZXNwb25zZUVycm9yKHt1cmw6ZS51cmwsc3RhdHVzOmUuc3RhdHVzLGRhdGE6dH0pO3JldHVybiB0fSkpLmNhdGNoKChlPT57dGhyb3cgbmV3IENsaWVudFJlc3BvbnNlRXJyb3IoZSl9KSl9aW5pdFNlbmRPcHRpb25zKGUsdCl7aWYoKHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LHQpKS5ib2R5PXRoaXMuY29udmVydFRvRm9ybURhdGFJZk5lZWRlZCh0LmJvZHkpLG5vcm1hbGl6ZVVua25vd25RdWVyeVBhcmFtcyh0KSx0LnF1ZXJ5PU9iamVjdC5hc3NpZ24oe30sdC5wYXJhbXMsdC5xdWVyeSksdm9pZCAwPT09dC5yZXF1ZXN0S2V5JiYoITE9PT10LiRhdXRvQ2FuY2VsfHwhMT09PXQucXVlcnkuJGF1dG9DYW5jZWw/dC5yZXF1ZXN0S2V5PW51bGw6KHQuJGNhbmNlbEtleXx8dC5xdWVyeS4kY2FuY2VsS2V5KSYmKHQucmVxdWVzdEtleT10LiRjYW5jZWxLZXl8fHQucXVlcnkuJGNhbmNlbEtleSkpLGRlbGV0ZSB0LiRhdXRvQ2FuY2VsLGRlbGV0ZSB0LnF1ZXJ5LiRhdXRvQ2FuY2VsLGRlbGV0ZSB0LiRjYW5jZWxLZXksZGVsZXRlIHQucXVlcnkuJGNhbmNlbEtleSxudWxsIT09dGhpcy5nZXRIZWFkZXIodC5oZWFkZXJzLFwiQ29udGVudC1UeXBlXCIpfHx0aGlzLmlzRm9ybURhdGEodC5ib2R5KXx8KHQuaGVhZGVycz1PYmplY3QuYXNzaWduKHt9LHQuaGVhZGVycyx7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0pKSxudWxsPT09dGhpcy5nZXRIZWFkZXIodC5oZWFkZXJzLFwiQWNjZXB0LUxhbmd1YWdlXCIpJiYodC5oZWFkZXJzPU9iamVjdC5hc3NpZ24oe30sdC5oZWFkZXJzLHtcIkFjY2VwdC1MYW5ndWFnZVwiOnRoaXMubGFuZ30pKSx0aGlzLmF1dGhTdG9yZS50b2tlbiYmbnVsbD09PXRoaXMuZ2V0SGVhZGVyKHQuaGVhZGVycyxcIkF1dGhvcml6YXRpb25cIikmJih0LmhlYWRlcnM9T2JqZWN0LmFzc2lnbih7fSx0LmhlYWRlcnMse0F1dGhvcml6YXRpb246dGhpcy5hdXRoU3RvcmUudG9rZW59KSksdGhpcy5lbmFibGVBdXRvQ2FuY2VsbGF0aW9uJiZudWxsIT09dC5yZXF1ZXN0S2V5KXtjb25zdCBzPXQucmVxdWVzdEtleXx8KHQubWV0aG9kfHxcIkdFVFwiKStlO2RlbGV0ZSB0LnJlcXVlc3RLZXksdGhpcy5jYW5jZWxSZXF1ZXN0KHMpO2NvbnN0IGk9bmV3IEFib3J0Q29udHJvbGxlcjt0aGlzLmNhbmNlbENvbnRyb2xsZXJzW3NdPWksdC5zaWduYWw9aS5zaWduYWx9cmV0dXJuIHR9Y29udmVydFRvRm9ybURhdGFJZk5lZWRlZChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRm9ybURhdGF8fHZvaWQgMD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8dGhpcy5pc0Zvcm1EYXRhKGUpfHwhdGhpcy5oYXNCbG9iRmllbGQoZSkpcmV0dXJuIGU7Y29uc3QgdD1uZXcgRm9ybURhdGE7Zm9yKGNvbnN0IHMgaW4gZSl7Y29uc3QgaT1lW3NdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBpfHx0aGlzLmhhc0Jsb2JGaWVsZCh7ZGF0YTppfSkpe2NvbnN0IGU9QXJyYXkuaXNBcnJheShpKT9pOltpXTtmb3IobGV0IGkgb2YgZSl0LmFwcGVuZChzLGkpfWVsc2V7bGV0IGU9e307ZVtzXT1pLHQuYXBwZW5kKFwiQGpzb25QYXlsb2FkXCIsSlNPTi5zdHJpbmdpZnkoZSkpfX1yZXR1cm4gdH1oYXNCbG9iRmllbGQoZSl7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcz1BcnJheS5pc0FycmF5KGVbdF0pP2VbdF06W2VbdF1dO2Zvcihjb25zdCBlIG9mIHMpaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJsb2ImJmUgaW5zdGFuY2VvZiBCbG9ifHxcInVuZGVmaW5lZFwiIT10eXBlb2YgRmlsZSYmZSBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuITB9cmV0dXJuITF9Z2V0SGVhZGVyKGUsdCl7ZT1lfHx7fSx0PXQudG9Mb3dlckNhc2UoKTtmb3IobGV0IHMgaW4gZSlpZihzLnRvTG93ZXJDYXNlKCk9PXQpcmV0dXJuIGVbc107cmV0dXJuIG51bGx9aXNGb3JtRGF0YShlKXtyZXR1cm4gZSYmKFwiRm9ybURhdGFcIj09PWUuY29uc3RydWN0b3IubmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZvcm1EYXRhJiZlIGluc3RhbmNlb2YgRm9ybURhdGEpfXNlcmlhbGl6ZVF1ZXJ5UGFyYW1zKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHMgaW4gZSl7aWYobnVsbD09PWVbc10pY29udGludWU7Y29uc3QgaT1lW3NdLG49ZW5jb2RlVVJJQ29tcG9uZW50KHMpO2lmKEFycmF5LmlzQXJyYXkoaSkpZm9yKGNvbnN0IGUgb2YgaSl0LnB1c2gobitcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZSkpO2Vsc2UgaSBpbnN0YW5jZW9mIERhdGU/dC5wdXNoKG4rXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGkudG9JU09TdHJpbmcoKSkpOm51bGwhPT10eXBlb2YgaSYmXCJvYmplY3RcIj09dHlwZW9mIGk/dC5wdXNoKG4rXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSk6dC5wdXNoKG4rXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGkpKX1yZXR1cm4gdC5qb2luKFwiJlwiKX19Y2xhc3MgQXN5bmNBdXRoU3RvcmUgZXh0ZW5kcyBCYXNlQXV0aFN0b3Jle2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5xdWV1ZT1bXSx0aGlzLnNhdmVGdW5jPWUuc2F2ZSx0aGlzLmNsZWFyRnVuYz1lLmNsZWFyLHRoaXMuX2VucXVldWUoKCgpPT50aGlzLl9sb2FkSW5pdGlhbChlLmluaXRpYWwpKSl9c2F2ZShlLHQpe3N1cGVyLnNhdmUoZSx0KTtsZXQgcz1cIlwiO3RyeXtzPUpTT04uc3RyaW5naWZ5KHt0b2tlbjplLG1vZGVsOnR9KX1jYXRjaChlKXtjb25zb2xlLndhcm4oXCJBc3luY0F1dGhTdG9yZTogZmFpbGVkIHRvIHN0cmluZ2lmeSB0aGUgbmV3IHN0YXRlXCIpfXRoaXMuX2VucXVldWUoKCgpPT50aGlzLnNhdmVGdW5jKHMpKSl9Y2xlYXIoKXtzdXBlci5jbGVhcigpLHRoaXMuY2xlYXJGdW5jP3RoaXMuX2VucXVldWUoKCgpPT50aGlzLmNsZWFyRnVuYygpKSk6dGhpcy5fZW5xdWV1ZSgoKCk9PnRoaXMuc2F2ZUZ1bmMoXCJcIikpKX1hc3luYyBfbG9hZEluaXRpYWwoZSl7dHJ5e2lmKGU9YXdhaXQgZSl7bGV0IHQ7XCJzdHJpbmdcIj09dHlwZW9mIGU/dD1KU09OLnBhcnNlKGUpfHx7fTpcIm9iamVjdFwiPT10eXBlb2YgZSYmKHQ9ZSksdGhpcy5zYXZlKHQudG9rZW58fFwiXCIsdC5tb2RlbHx8bnVsbCl9fWNhdGNoKGUpe319X2VucXVldWUoZSl7dGhpcy5xdWV1ZS5wdXNoKGUpLDE9PXRoaXMucXVldWUubGVuZ3RoJiZ0aGlzLl9kZXF1ZXVlKCl9X2RlcXVldWUoKXt0aGlzLnF1ZXVlLmxlbmd0aCYmdGhpcy5xdWV1ZVswXSgpLmZpbmFsbHkoKCgpPT57dGhpcy5xdWV1ZS5zaGlmdCgpLHRoaXMucXVldWUubGVuZ3RoJiZ0aGlzLl9kZXF1ZXVlKCl9KSl9fWV4cG9ydHtBZG1pblNlcnZpY2UsQXN5bmNBdXRoU3RvcmUsQmFzZUF1dGhTdG9yZSxDbGllbnRSZXNwb25zZUVycm9yLENvbGxlY3Rpb25TZXJ2aWNlLENydWRTZXJ2aWNlLEhlYWx0aFNlcnZpY2UsTG9jYWxBdXRoU3RvcmUsTG9nU2VydmljZSxSZWFsdGltZVNlcnZpY2UsUmVjb3JkU2VydmljZSxjb29raWVQYXJzZSxjb29raWVTZXJpYWxpemUsQ2xpZW50IGFzIGRlZmF1bHQsZ2V0VG9rZW5QYXlsb2FkLGlzVG9rZW5FeHBpcmVkLG5vcm1hbGl6ZVVua25vd25RdWVyeVBhcmFtc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2NrZXRiYXNlLmVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/pocketbase/dist/pocketbase.es.mjs\n");

/***/ })

};
;